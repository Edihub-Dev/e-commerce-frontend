import{at as re,r as c,j as e,A as W,m as L}from"./vendor-2d1PFKo4.js";import{c as V,z as le,B as oe,I as ie,aE as ne,aF as ce,J as p,aG as de,aH as me,aI as xe}from"./index-Bpx0OnSg.js";import{S as Y}from"./Sidebar-Blgfai62.js";import{N as ue}from"./Navbar-K_t1OsQh.js";import{g as pe}from"./react-BzrpNAyj.js";import{P as X}from"./plus-BZuZgauU.js";import{L as q}from"./loader-circle-DRAKHMK_.js";import{T as he}from"./trash-2-Chc1geHF.js";import{S as be}from"./save-DdNriqD8.js";import"./house-Bx4yg0fx.js";import"./ticket-percent-OJlGKFU7.js";import"./package-C_UWcLgd.js";import"./shopping-bag-Dv9EZFsL.js";import"./arrow-left-fjWLrcm4.js";import"./log-out-BEyQjTNl.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ge=V("grip-vertical",fe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],Z=V("image-plus",ye);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ve=V("square-pen",je),we=()=>le(),Ne=oe;var Ce=re();const Se=pe(Ce),k={title:"",description:"",overline:"",titleColor:"",overlineColor:"",descriptionColor:"",imageUrl:"",primaryCta:{label:"",href:""},secondaryCta:{label:"",href:""},showPrimaryCta:!0,showSecondaryCta:!0,showTitle:!0,showOverline:!0,showDescription:!0,metadata:{productId:""},isActive:!0,order:0},T="admin-hero-carousel-draft",ke=3*1024*1024,Ie=(s,l)=>{if(!s)return"";if(typeof s.get=="function"){const b=s.get(l);return typeof b=="string"?b:b!=null?String(b):""}const h=s[l];return h==null?"":typeof h=="string"?h:String(h)},De=()=>e.jsx("span",{className:"flex cursor-grab items-center text-slate-400",children:e.jsx(ge,{size:18})}),Ue=({draft:s,onChange:l,onSave:h,onCancel:b,isSaving:g})=>{var D,N,O,U,E;const a=i=>m=>{const o=m.target.type==="checkbox"?m.target.checked:m.target.value;l({...s,[i]:o})},x=(i,m)=>o=>{const d=o.target.value;l({...s,[i]:{...s[i]||{},[m]:d}})},y=i=>m=>{const o=m.target.value;l({...s,metadata:{...s.metadata||{},[i]:o}})},[v,j]=c.useState(null),P=i=>new Promise((m,o)=>{const d=new FileReader;d.onload=()=>m(d.result),d.onerror=()=>o(new Error("Failed to read file")),d.readAsDataURL(i)}),I=(i,m)=>async o=>{var z;const d=(z=o.target.files)==null?void 0:z[0];if(d){if(!d.type.startsWith("image/")){p.error("Please upload an image file"),o.target.value="";return}if(d.size>ke){p.error("Image must be smaller than 3MB"),o.target.value="";return}j(i);try{const R=await P(d);l({...s,[i]:R}),p.success(`${m} ready to upload`)}catch{p.error("Failed to process image")}finally{j(null),o.target.value=""}}},w=i=>()=>{l({...s,[i]:""})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Title *"}),e.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:s.showTitle,onChange:a("showTitle"),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),"Show title"]}),e.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 px-3 py-2",value:s.title,onChange:a("title"),maxLength:120,required:!0})]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Overline"}),e.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:s.showOverline,onChange:a("showOverline"),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),"Show overline"]}),e.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 px-3 py-2",value:s.overline,onChange:a("overline"),maxLength:160})]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Priority"}),e.jsx("input",{type:"number",className:"w-full rounded-lg border border-slate-200 px-3 py-2",value:s.order??0,onChange:a("order"),min:0})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Title Color"}),e.jsx("input",{type:"color",className:"h-10 w-full cursor-pointer rounded-lg border border-slate-200 px-3 py-2",value:s.titleColor||"#ffffff",onChange:a("titleColor")}),e.jsx("button",{type:"button",className:"text-xs text-slate-500 hover:text-slate-700",onClick:()=>l({...s,titleColor:""}),children:"Reset"})]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Overline Color"}),e.jsx("input",{type:"color",className:"h-10 w-full cursor-pointer rounded-lg border border-slate-200 px-3 py-2",value:s.overlineColor||"#ffffff",onChange:a("overlineColor")}),e.jsx("button",{type:"button",className:"text-xs text-slate-500 hover:text-slate-700",onClick:()=>l({...s,overlineColor:""}),children:"Reset"})]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Description Color"}),e.jsx("input",{type:"color",className:"h-10 w-full cursor-pointer rounded-lg border border-slate-200 px-3 py-2",value:s.descriptionColor||"#d1d5db",onChange:a("descriptionColor")}),e.jsx("button",{type:"button",className:"text-xs text-slate-500 hover:text-slate-700",onClick:()=>l({...s,descriptionColor:""}),children:"Reset"})]})]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Description"}),e.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:s.showDescription,onChange:a("showDescription"),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),"Show description"]}),e.jsx("textarea",{className:"w-full rounded-lg border border-slate-200 px-3 py-2",rows:3,value:s.description,onChange:a("description"),maxLength:300})]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Primary Image URL *"}),e.jsx("input",{type:"url",className:"w-full rounded-lg border border-slate-200 px-3 py-2",value:s.imageUrl,onChange:a("imageUrl"),required:!0}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2 text-xs text-slate-500",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:I("imageUrl","Primary image"),className:"max-w-xs text-xs text-slate-500 file:mr-3 file:cursor-pointer file:rounded-full file:border-0 file:bg-blue-600 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-white file:shadow-sm hover:file:bg-blue-500"}),v==="imageUrl"&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600",children:[e.jsx(q,{size:14,className:"animate-spin"})," Uploading..."]}),s.imageUrl&&e.jsx("button",{type:"button",onClick:w("imageUrl"),className:"text-xs font-medium text-rose-600 hover:text-rose-700",children:"Clear image"})]}),s.imageUrl&&e.jsx("div",{className:"mt-3 overflow-hidden rounded-lg border border-slate-200 bg-slate-50",children:e.jsx("img",{src:s.imageUrl,alt:"Hero slide primary preview",className:"h-32 w-full object-cover"})})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-600",children:"Primary CTA"}),e.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:s.showPrimaryCta,onChange:a("showPrimaryCta"),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),"Show primary button"]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{children:"Label"}),e.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 px-3 py-2",value:((D=s.primaryCta)==null?void 0:D.label)||"",onChange:x("primaryCta","label"),maxLength:60})]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{children:"URL"}),e.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 px-3 py-2",value:((N=s.primaryCta)==null?void 0:N.href)||"",onChange:x("primaryCta","href"),maxLength:200,placeholder:"Optional"})]})]}),e.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-600",children:"Secondary CTA"}),e.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:s.showSecondaryCta,onChange:a("showSecondaryCta"),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),"Show secondary button"]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{children:"Label"}),e.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 px-3 py-2",value:((O=s.secondaryCta)==null?void 0:O.label)||"",onChange:x("secondaryCta","label"),maxLength:60})]}),e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{children:"URL"}),e.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 px-3 py-2",value:((U=s.secondaryCta)==null?void 0:U.href)||"",onChange:x("secondaryCta","href"),maxLength:200,placeholder:"Optional"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-600",children:"Product Reference"}),e.jsx("p",{className:"mb-3 text-xs text-slate-500",children:"Provide the product ID, slug, or URL to link this slide directly to a product detail page. The storefront will prefer these values over the auto-detected match."}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:e.jsxs("label",{className:"space-y-1 text-sm",children:[e.jsx("span",{children:"Product ID"}),e.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 px-3 py-2",value:((E=s.metadata)==null?void 0:E.productId)||"",onChange:y("productId"),placeholder:"Mongo ID",maxLength:48})]})})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:s.isActive,onChange:a("isActive"),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),"Slide is active"]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end",children:[e.jsx("button",{type:"button",onClick:b,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50",children:"Cancel"}),e.jsxs("button",{type:"button",onClick:h,disabled:g,className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-5 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-blue-500 disabled:cursor-not-allowed disabled:bg-blue-400",children:[e.jsx(be,{size:18}),g?"Saving...":"Save Slide"]})]})]})},Ae=({slide:s,onEdit:l,onDelete:h,isDeleting:b,dragHandleProps:g})=>e.jsxs(L.div,{layout:!0,className:"group flex items-center gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[e.jsx("div",{...g,className:"hidden cursor-grab md:block",children:e.jsx(De,{})}),e.jsx("div",{className:"relative h-20 w-32 overflow-hidden rounded-xl bg-slate-100",children:s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:s.title,className:"h-full w-full object-cover",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-slate-400",children:e.jsx(Z,{size:24})})}),e.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-base font-semibold text-slate-900",children:s.title}),!s.isActive&&e.jsx("span",{className:"rounded-full bg-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600",children:"Inactive"})]}),s.subtitle&&e.jsx("p",{className:"text-sm text-slate-500 line-clamp-2",children:s.subtitle}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Priority: ",s.order??0]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{type:"button",onClick:l,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-600 transition hover:border-blue-200 hover:text-blue-600",children:[e.jsx(ve,{size:16})," Edit"]}),e.jsxs("button",{type:"button",onClick:h,disabled:b,className:"inline-flex items-center gap-1 rounded-full border border-rose-200 px-3 py-1.5 text-sm font-medium text-rose-600 transition hover:bg-rose-50 disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx(he,{size:16})," Delete"]})]})]}),Te=300,We=()=>{const s=we(),{user:l,logout:h}=ie(),[b,g]=c.useState(!1),[a,x]=c.useState(k),[y,v]=c.useState(null),[j,P]=c.useState(""),[I,w]=c.useState(!1),D=c.useCallback(()=>{typeof window>"u"||window.localStorage.removeItem(T)},[]);c.useEffect(()=>{if(typeof window>"u")return;const t=window.localStorage.getItem(T);if(t)try{const r=JSON.parse(t);r&&typeof r=="object"&&r.draft&&(x({...k,...r.draft}),v(typeof r.editingId=="string"&&r.editingId?r.editingId:null),w(!0))}catch(r){console.error("Failed to restore hero slide draft",r),window.localStorage.removeItem(T)}},[]),c.useEffect(()=>{if(!(typeof window>"u")){if(!I){window.localStorage.removeItem(T);return}try{window.localStorage.setItem(T,JSON.stringify({draft:a,editingId:y}))}catch(t){console.error("Failed to persist hero slide draft",t)}}},[a,y,I]);const{items:N,status:O,error:U,saving:E,deletingId:i,reorderStatus:m}=Ne(t=>t.adminHeroCarousel);c.useEffect(()=>{s(ne())},[s]);const o=c.useMemo(()=>{if(!j.trim())return N;const t=j.trim().toLowerCase();return N.filter(r=>[r.title,r.subtitle,r.overline].filter(Boolean).some(f=>f.toLowerCase().includes(t)))},[N,j]),d=()=>{x({...k,order:N.length}),v(null),w(!0)},z=t=>{var r,f,S,C;x({...k,...t,primaryCta:{label:((r=t.primaryCta)==null?void 0:r.label)||"",href:((f=t.primaryCta)==null?void 0:f.href)||""},secondaryCta:{label:((S=t.secondaryCta)==null?void 0:S.label)||"",href:((C=t.secondaryCta)==null?void 0:C.href)||""},metadata:{productId:Ie(t.metadata,"productId")},titleColor:t.titleColor||"",overlineColor:t.overlineColor||"",descriptionColor:t.descriptionColor||"",showPrimaryCta:typeof t.showPrimaryCta=="boolean"?t.showPrimaryCta:!0,showSecondaryCta:typeof t.showSecondaryCta=="boolean"?t.showSecondaryCta:!0,showTitle:typeof t.showTitle=="boolean"?t.showTitle:!0,showOverline:typeof t.showOverline=="boolean"?t.showOverline:!0,showDescription:typeof t.showDescription=="boolean"?t.showDescription:!0}),v(t._id),w(!0)},R=async()=>{if(!a.title.trim()||!a.imageUrl.trim()){p.error("Title and Image URL are required");return}const t=n=>typeof n=="string"?n.trim():n,r=n=>{if(!n)return;const u=t(n.label||""),B=t(n.href||"");if(!(!u&&!B))return{...u?{label:u}:{},...B?{href:B}:{}}},f=n=>{const u=t((n==null?void 0:n.productId)||"");return u?{productId:u}:void 0},S=n=>{const u=t(n);return u?u.startsWith("data:")?{url:void 0,base64:u}:{url:u,base64:void 0}:{url:void 0,base64:void 0}},{url:C,base64:A}=S(a.imageUrl),{url:M,base64:ae}=S(a.backgroundUrl),$={title:t(a.title),description:t(a.description),overline:t(a.overline),imageUrl:C,imageBase64:A,backgroundUrl:M,backgroundBase64:ae,titleColor:t(a.titleColor)||void 0,overlineColor:t(a.overlineColor)||void 0,descriptionColor:t(a.descriptionColor)||void 0,primaryCta:r(a.primaryCta),secondaryCta:r(a.secondaryCta),metadata:f(a.metadata),showPrimaryCta:!!a.showPrimaryCta,showSecondaryCta:!!a.showSecondaryCta,showTitle:!!a.showTitle,showOverline:!!a.showOverline,showDescription:!!a.showDescription,isActive:a.isActive,order:Number(a.order)||0};try{y?(await s(me({id:y,payload:$})).unwrap(),p.success("Slide updated")):(await s(xe($)).unwrap(),p.success("Slide created")),D(),w(!1),v(null),x(k)}catch(n){p.error(n.message||"Failed to save slide")}},K=async t=>{if(window.confirm("Delete this slide? This action cannot be undone"))try{await s(de(t)).unwrap(),p.success("Slide deleted")}catch(f){p.error(f.message||"Failed to delete slide")}},[Le,G]=c.useState([]),F=c.useMemo(()=>Se(t=>{s(ce(t)).unwrap().catch(r=>{p.error(r.message||"Failed to reorder slides")})},Te),[s]);c.useEffect(()=>()=>{F.cancel()},[F]);const Q=t=>{G(o.map(r=>r._id)),H(t)},[_,H]=c.useState(null),ee=t=>{t.preventDefault()},te=t=>{if(_===null||_===t){H(null);return}const r=[...o],[f]=r.splice(_,1);r.splice(t,0,f);const C=r.map((A,M)=>({...A,order:M})).map(A=>A._id);G(C),F(C),H(null)},J=O==="loading",se=!J&&o.length===0;return e.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-900 overflow-x-hidden",children:e.jsxs("div",{className:"flex md:h-screen",children:[e.jsx(Y,{active:"Hero Carousel",className:"hidden md:flex md:w-64",onNavigate:()=>g(!1)}),e.jsx(W,{children:b&&e.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40 flex md:hidden",children:[e.jsx(L.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:220,damping:24},className:"bg-white w-72 max-w-sm h-full shadow-xl",children:e.jsx(Y,{active:"Hero Carousel",className:"flex w-full",onNavigate:()=>g(!1)})}),e.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 bg-black/30","aria-label":"Close sidebar"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(ue,{onToggleSidebar:()=>g(t=>!t),activeRange:"All Date",onSelectRange:()=>{},adminName:(l==null?void 0:l.name)||(l==null?void 0:l.username)||"Admin",adminRole:(l==null?void 0:l.role)==="admin"?"Administrator":l==null?void 0:l.role,showRangeSelector:!1,showNotifications:!1,onLogout:h}),e.jsxs("main",{className:"flex-1 overflow-y-auto px-4 py-6 md:px-8 space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Hero Carousel"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Manage hero slides, copy, and call-to-actions displayed on the storefront home page."})]}),e.jsxs("button",{type:"button",onClick:d,className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-5 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-blue-500",children:[e.jsx(X,{size:18})," New Slide"]})]}),e.jsxs("div",{className:"flex flex-col gap-4 rounded-3xl border border-slate-200 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search slides",value:j,onChange:t=>P(t.target.value),className:"w-full rounded-full border border-slate-200 px-4 py-2 text-sm focus:border-blue-500 focus:outline-none"}),j&&e.jsx("button",{type:"button",onClick:()=>P(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-400 hover:text-slate-600",children:"Clear"})]}),e.jsxs("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:[o.length," slide",o.length===1?"":"s"]})]}),m==="loading"&&e.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-slate-400",children:[e.jsx(q,{size:14,className:"animate-spin"})," Saving order..."]})]}),J?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-slate-200 py-16 text-slate-400",children:[e.jsx(q,{size:32,className:"animate-spin"}),e.jsx("p",{className:"mt-3 text-sm",children:"Loading hero slides..."})]}):se?e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 rounded-2xl border border-dashed border-slate-200 py-16 text-center",children:[e.jsx("div",{className:"rounded-full bg-blue-50 p-3 text-blue-500",children:e.jsx(Z,{size:24})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"No slides yet"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Create your first slide to welcome customers with custom copy and visuals."})]}),e.jsxs("button",{type:"button",onClick:d,className:"inline-flex items-center gap-2 rounded-full border border-blue-200 px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50",children:[e.jsx(X,{size:16})," Create slide"]})]}):e.jsx(L.div,{layout:!0,className:"space-y-3",children:o.map((t,r)=>e.jsx("div",{draggable:!0,onDragStart:()=>Q(r),onDragOver:ee,onDrop:()=>te(r),children:e.jsx(Ae,{slide:t,onEdit:()=>z(t),onDelete:()=>K(t._id),isDeleting:i===t._id,dragHandleProps:{}})},t._id))}),U&&e.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-600",children:U})]}),e.jsx(W,{children:I&&e.jsxs(L.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-xl",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:y?"Edit Slide":"Create Slide"}),e.jsx("p",{className:"text-sm text-slate-500",children:y?"Update content, CTAs and imagery for this hero position.":"Add a new card to the hero carousel with imagery and calls to action."})]})}),e.jsx(Ue,{draft:a,onChange:x,onSave:R,onCancel:()=>{D(),w(!1),v(null),x(k)},isSaving:E})]})})]})]})]})})};export{We as default};
