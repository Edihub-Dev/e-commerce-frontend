import{r as u,j as e,A as f,m as y}from"./vendor-2d1PFKo4.js";import{k as b,u as j,B as g,O as N}from"./index-Bpx0OnSg.js";import{S as w}from"./shopping-bag-Dv9EZFsL.js";import"./react-BzrpNAyj.js";const a=[{id:"order",label:"Order Summary",path:"/checkout/order"},{id:"address",label:"Delivery Address",path:"/checkout/address"},{id:"payment",label:"Payment",path:"/checkout/payment"},{id:"confirmation",label:"Confirmation",path:"/checkout/confirmation"}],d=t=>t.includes("/checkout/payment-success")||t.includes("/checkout/payment-failed")?"confirmation":t.includes("/checkout/payment")?"payment":t.includes("/checkout/address")?"address":t.includes("/checkout/confirmation")?"confirmation":"order",I=()=>{var l;const t=b(),o=j(),n=g(s=>s.checkout),c=u.useMemo(()=>d(t.pathname),[t.pathname]);return u.useEffect(()=>{const s=d(t.pathname)==="confirmation",i=!!n.orderId,x=!!new URLSearchParams(t.search||"").get("productId"),r=d(t.pathname)==="order";!n.items.length&&!s&&!i&&!(r&&x)&&o("/cart",{replace:!0})},[n.items.length,n.orderId,t.pathname,t.search,o]),e.jsx("div",{className:"min-h-screen bg-light-bg",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6 py-6 lg:py-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-primary/10 text-primary flex items-center justify-center",children:e.jsx(w,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-secondary",children:"Secure Checkout"}),e.jsx("p",{className:"text-sm text-medium-text",children:"Follow the steps to complete your purchase safely."})]})]}),e.jsxs("nav",{className:"w-full mb-10",children:[e.jsx("div",{className:"hidden md:flex items-center justify-between gap-6",children:a.map((s,i)=>{const m=i+1,r=a.findIndex(p=>p.id===c)>i,h=s.id===c;return e.jsxs("div",{className:"flex-1",children:[e.jsx("button",{onClick:()=>r&&o(s.path),className:"group w-full",type:"button",disabled:!r,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full border-2 text-base font-semibold transition-all duration-200 ${h?"border-primary bg-primary text-white shadow-lg shadow-primary/20":r?"border-primary/40 bg-white text-primary":"border-slate-200 bg-white text-slate-400"}`,children:m}),i!==a.length-1&&e.jsx("div",{className:`h-0.5 flex-1 mx-4 transition-colors duration-200 ${r?"bg-primary":"bg-slate-200"}`})]})}),e.jsx("p",{className:`mt-3 text-sm font-medium text-center transition-colors duration-200 ${h?"text-primary":r?"text-primary/70":"text-slate-500"}`,children:s.label})]},s.id)})}),e.jsxs("div",{className:"md:hidden bg-white rounded-2xl border border-slate-100 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Step"}),e.jsxs("p",{className:"text-sm font-semibold text-secondary",children:[a.findIndex(s=>s.id===c)+1," of"," ",a.length]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Current"}),e.jsx("p",{className:"text-sm font-semibold text-primary",children:(l=a.find(s=>s.id===c))==null?void 0:l.label})]})]})]}),e.jsx(f,{mode:"wait",children:e.jsx(y.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:.3},className:"bg-white rounded-3xl border border-slate-100 shadow-xl shadow-slate-200/40 overflow-hidden",children:e.jsx(N,{})},t.pathname)})]})})};export{I as default};
