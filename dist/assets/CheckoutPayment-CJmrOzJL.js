import{r as E,j as t,m as $,A as fe}from"./vendor-2d1PFKo4.js";import{U as Be,z as qe,u as He,I as $e,B as Ge,j as Ke,w as Ye,t as Y,v as pe,J as S,r as xe,H as Xe,V as We,o as Je,W as Ve,Y as Ze,q as et,Z as tt}from"./index-Bpx0OnSg.js";import{r as Le,g as rt}from"./react-BzrpNAyj.js";var G={},te,ge;function Se(){return ge||(ge=1,te={L:1,M:0,Q:3,H:2}),te}var re,ve;function _e(){return ve||(ve=1,re={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),re}var ae,ye;function at(){if(ye)return ae;ye=1;var c=_e();function u(s){this.mode=c.MODE_8BIT_BYTE,this.data=s}return u.prototype={getLength:function(s){return this.data.length},write:function(s){for(var p=0;p<this.data.length;p++)s.put(this.data.charCodeAt(p),8)}},ae=u,ae}var ne,be;function nt(){if(be)return ne;be=1;var c=Se();function u(s,p){this.totalCount=s,this.dataCount=p}return u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(s,p){var h=u.getRsBlockTable(s,p);if(h==null)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+p);for(var n=h.length/3,l=new Array,r=0;r<n;r++)for(var a=h[r*3+0],e=h[r*3+1],i=h[r*3+2],o=0;o<a;o++)l.push(new u(e,i));return l},u.getRsBlockTable=function(s,p){switch(p){case c.L:return u.RS_BLOCK_TABLE[(s-1)*4+0];case c.M:return u.RS_BLOCK_TABLE[(s-1)*4+1];case c.Q:return u.RS_BLOCK_TABLE[(s-1)*4+2];case c.H:return u.RS_BLOCK_TABLE[(s-1)*4+3];default:return}},ne=u,ne}var se,we;function st(){if(we)return se;we=1;function c(){this.buffer=new Array,this.length=0}return c.prototype={get:function(u){var s=Math.floor(u/8);return(this.buffer[s]>>>7-u%8&1)==1},put:function(u,s){for(var p=0;p<s;p++)this.putBit((u>>>s-p-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(u){var s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),u&&(this.buffer[s]|=128>>>this.length%8),this.length++}},se=c,se}var ie,Pe;function ke(){if(Pe)return ie;Pe=1;for(var c={glog:function(s){if(s<1)throw new Error("glog("+s+")");return c.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return c.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},u=0;u<8;u++)c.EXP_TABLE[u]=1<<u;for(var u=8;u<256;u++)c.EXP_TABLE[u]=c.EXP_TABLE[u-4]^c.EXP_TABLE[u-5]^c.EXP_TABLE[u-6]^c.EXP_TABLE[u-8];for(var u=0;u<255;u++)c.LOG_TABLE[c.EXP_TABLE[u]]=u;return ie=c,ie}var oe,Ne;function Ie(){if(Ne)return oe;Ne=1;var c=ke();function u(s,p){if(s.length==null)throw new Error(s.length+"/"+p);for(var h=0;h<s.length&&s[h]==0;)h++;this.num=new Array(s.length-h+p);for(var n=0;n<s.length-h;n++)this.num[n]=s[n+h]}return u.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var p=new Array(this.getLength()+s.getLength()-1),h=0;h<this.getLength();h++)for(var n=0;n<s.getLength();n++)p[h+n]^=c.gexp(c.glog(this.get(h))+c.glog(s.get(n)));return new u(p,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var p=c.glog(this.get(0))-c.glog(s.get(0)),h=new Array(this.getLength()),n=0;n<this.getLength();n++)h[n]=this.get(n);for(var n=0;n<s.getLength();n++)h[n]^=c.gexp(c.glog(s.get(n))+p);return new u(h,0).mod(s)}},oe=u,oe}var le,je;function it(){if(je)return le;je=1;var c=_e(),u=Ie(),s=ke(),p={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(n){for(var l=n<<10;h.getBCHDigit(l)-h.getBCHDigit(h.G15)>=0;)l^=h.G15<<h.getBCHDigit(l)-h.getBCHDigit(h.G15);return(n<<10|l)^h.G15_MASK},getBCHTypeNumber:function(n){for(var l=n<<12;h.getBCHDigit(l)-h.getBCHDigit(h.G18)>=0;)l^=h.G18<<h.getBCHDigit(l)-h.getBCHDigit(h.G18);return n<<12|l},getBCHDigit:function(n){for(var l=0;n!=0;)l++,n>>>=1;return l},getPatternPosition:function(n){return h.PATTERN_POSITION_TABLE[n-1]},getMask:function(n,l,r){switch(n){case p.PATTERN000:return(l+r)%2==0;case p.PATTERN001:return l%2==0;case p.PATTERN010:return r%3==0;case p.PATTERN011:return(l+r)%3==0;case p.PATTERN100:return(Math.floor(l/2)+Math.floor(r/3))%2==0;case p.PATTERN101:return l*r%2+l*r%3==0;case p.PATTERN110:return(l*r%2+l*r%3)%2==0;case p.PATTERN111:return(l*r%3+(l+r)%2)%2==0;default:throw new Error("bad maskPattern:"+n)}},getErrorCorrectPolynomial:function(n){for(var l=new u([1],0),r=0;r<n;r++)l=l.multiply(new u([1,s.gexp(r)],0));return l},getLengthInBits:function(n,l){if(1<=l&&l<10)switch(n){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+n)}else if(l<27)switch(n){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+n)}else if(l<41)switch(n){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+n)}else throw new Error("type:"+l)},getLostPoint:function(n){for(var l=n.getModuleCount(),r=0,a=0;a<l;a++)for(var e=0;e<l;e++){for(var i=0,o=n.isDark(a,e),m=-1;m<=1;m++)if(!(a+m<0||l<=a+m))for(var x=-1;x<=1;x++)e+x<0||l<=e+x||m==0&&x==0||o==n.isDark(a+m,e+x)&&i++;i>5&&(r+=3+i-5)}for(var a=0;a<l-1;a++)for(var e=0;e<l-1;e++){var f=0;n.isDark(a,e)&&f++,n.isDark(a+1,e)&&f++,n.isDark(a,e+1)&&f++,n.isDark(a+1,e+1)&&f++,(f==0||f==4)&&(r+=3)}for(var a=0;a<l;a++)for(var e=0;e<l-6;e++)n.isDark(a,e)&&!n.isDark(a,e+1)&&n.isDark(a,e+2)&&n.isDark(a,e+3)&&n.isDark(a,e+4)&&!n.isDark(a,e+5)&&n.isDark(a,e+6)&&(r+=40);for(var e=0;e<l;e++)for(var a=0;a<l-6;a++)n.isDark(a,e)&&!n.isDark(a+1,e)&&n.isDark(a+2,e)&&n.isDark(a+3,e)&&n.isDark(a+4,e)&&!n.isDark(a+5,e)&&n.isDark(a+6,e)&&(r+=40);for(var g=0,e=0;e<l;e++)for(var a=0;a<l;a++)n.isDark(a,e)&&g++;var A=Math.abs(100*g/l/l-50)/5;return r+=A*10,r}};return le=h,le}var de,Ce;function ot(){if(Ce)return de;Ce=1;var c=at(),u=nt(),s=st(),p=it(),h=Ie();function n(r,a){this.typeNumber=r,this.errorCorrectLevel=a,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=n.prototype;return l.addData=function(r){var a=new c(r);this.dataList.push(a),this.dataCache=null},l.isDark=function(r,a){if(r<0||this.moduleCount<=r||a<0||this.moduleCount<=a)throw new Error(r+","+a);return this.modules[r][a]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var r=1;for(r=1;r<40;r++){for(var a=u.getRSBlocks(r,this.errorCorrectLevel),e=new s,i=0,o=0;o<a.length;o++)i+=a[o].dataCount;for(var o=0;o<this.dataList.length;o++){var m=this.dataList[o];e.put(m.mode,4),e.put(m.getLength(),p.getLengthInBits(m.mode,r)),m.write(e)}if(e.getLengthInBits()<=i*8)break}this.typeNumber=r}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(r,a){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++){this.modules[e]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[e][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(r,a),this.typeNumber>=7&&this.setupTypeNumber(r),this.dataCache==null&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,a)},l.setupPositionProbePattern=function(r,a){for(var e=-1;e<=7;e++)if(!(r+e<=-1||this.moduleCount<=r+e))for(var i=-1;i<=7;i++)a+i<=-1||this.moduleCount<=a+i||(0<=e&&e<=6&&(i==0||i==6)||0<=i&&i<=6&&(e==0||e==6)||2<=e&&e<=4&&2<=i&&i<=4?this.modules[r+e][a+i]=!0:this.modules[r+e][a+i]=!1)},l.getBestMaskPattern=function(){for(var r=0,a=0,e=0;e<8;e++){this.makeImpl(!0,e);var i=p.getLostPoint(this);(e==0||r>i)&&(r=i,a=e)}return a},l.createMovieClip=function(r,a,e){var i=r.createEmptyMovieClip(a,e),o=1;this.make();for(var m=0;m<this.modules.length;m++)for(var x=m*o,f=0;f<this.modules[m].length;f++){var g=f*o,A=this.modules[m][f];A&&(i.beginFill(0,100),i.moveTo(g,x),i.lineTo(g+o,x),i.lineTo(g+o,x+o),i.lineTo(g,x+o),i.endFill())}return i},l.setupTimingPattern=function(){for(var r=8;r<this.moduleCount-8;r++)this.modules[r][6]==null&&(this.modules[r][6]=r%2==0);for(var a=8;a<this.moduleCount-8;a++)this.modules[6][a]==null&&(this.modules[6][a]=a%2==0)},l.setupPositionAdjustPattern=function(){for(var r=p.getPatternPosition(this.typeNumber),a=0;a<r.length;a++)for(var e=0;e<r.length;e++){var i=r[a],o=r[e];if(this.modules[i][o]==null)for(var m=-2;m<=2;m++)for(var x=-2;x<=2;x++)m==-2||m==2||x==-2||x==2||m==0&&x==0?this.modules[i+m][o+x]=!0:this.modules[i+m][o+x]=!1}},l.setupTypeNumber=function(r){for(var a=p.getBCHTypeNumber(this.typeNumber),e=0;e<18;e++){var i=!r&&(a>>e&1)==1;this.modules[Math.floor(e/3)][e%3+this.moduleCount-8-3]=i}for(var e=0;e<18;e++){var i=!r&&(a>>e&1)==1;this.modules[e%3+this.moduleCount-8-3][Math.floor(e/3)]=i}},l.setupTypeInfo=function(r,a){for(var e=this.errorCorrectLevel<<3|a,i=p.getBCHTypeInfo(e),o=0;o<15;o++){var m=!r&&(i>>o&1)==1;o<6?this.modules[o][8]=m:o<8?this.modules[o+1][8]=m:this.modules[this.moduleCount-15+o][8]=m}for(var o=0;o<15;o++){var m=!r&&(i>>o&1)==1;o<8?this.modules[8][this.moduleCount-o-1]=m:o<9?this.modules[8][15-o-1+1]=m:this.modules[8][15-o-1]=m}this.modules[this.moduleCount-8][8]=!r},l.mapData=function(r,a){for(var e=-1,i=this.moduleCount-1,o=7,m=0,x=this.moduleCount-1;x>0;x-=2)for(x==6&&x--;;){for(var f=0;f<2;f++)if(this.modules[i][x-f]==null){var g=!1;m<r.length&&(g=(r[m]>>>o&1)==1);var A=p.getMask(a,i,x-f);A&&(g=!g),this.modules[i][x-f]=g,o--,o==-1&&(m++,o=7)}if(i+=e,i<0||this.moduleCount<=i){i-=e,e=-e;break}}},n.PAD0=236,n.PAD1=17,n.createData=function(r,a,e){for(var i=u.getRSBlocks(r,a),o=new s,m=0;m<e.length;m++){var x=e[m];o.put(x.mode,4),o.put(x.getLength(),p.getLengthInBits(x.mode,r)),x.write(o)}for(var f=0,m=0;m<i.length;m++)f+=i[m].dataCount;if(o.getLengthInBits()>f*8)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+f*8+")");for(o.getLengthInBits()+4<=f*8&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=f*8||(o.put(n.PAD0,8),o.getLengthInBits()>=f*8));)o.put(n.PAD1,8);return n.createBytes(o,i)},n.createBytes=function(r,a){for(var e=0,i=0,o=0,m=new Array(a.length),x=new Array(a.length),f=0;f<a.length;f++){var g=a[f].dataCount,A=a[f].totalCount-g;i=Math.max(i,g),o=Math.max(o,A),m[f]=new Array(g);for(var b=0;b<m[f].length;b++)m[f][b]=255&r.buffer[b+e];e+=g;var w=p.getErrorCorrectPolynomial(A),_=new h(m[f],w.getLength()-1),M=_.mod(w);x[f]=new Array(w.getLength()-1);for(var b=0;b<x[f].length;b++){var F=b+M.getLength()-x[f].length;x[f][b]=F>=0?M.get(F):0}}for(var O=0,b=0;b<a.length;b++)O+=a[b].totalCount;for(var D=new Array(O),I=0,b=0;b<i;b++)for(var f=0;f<a.length;f++)b<m[f].length&&(D[I++]=m[f][b]);for(var b=0;b<o;b++)for(var f=0;f<a.length;f++)b<x[f].length&&(D[I++]=x[f][b]);return D},de=n,de}var X={},Te;function lt(){if(Te)return X;Te=1,Object.defineProperty(X,"__esModule",{value:!0});var c=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(e[m]=o[m])}return e},u=Be(),s=n(u),p=Le(),h=n(p);function n(e){return e&&e.__esModule?e:{default:e}}function l(e,i){var o={};for(var m in e)i.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(e,m)&&(o[m]=e[m]);return o}var r={bgColor:s.default.oneOfType([s.default.object,s.default.string]).isRequired,bgD:s.default.string.isRequired,fgColor:s.default.oneOfType([s.default.object,s.default.string]).isRequired,fgD:s.default.string.isRequired,size:s.default.number.isRequired,title:s.default.string,viewBoxSize:s.default.number.isRequired,xmlns:s.default.string},a=(0,p.forwardRef)(function(e,i){var o=e.bgColor,m=e.bgD,x=e.fgD,f=e.fgColor,g=e.size,A=e.title,b=e.viewBoxSize,w=e.xmlns,_=w===void 0?"http://www.w3.org/2000/svg":w,M=l(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return h.default.createElement("svg",c({},M,{height:g,ref:i,viewBox:"0 0 "+b+" "+b,width:g,xmlns:_}),A?h.default.createElement("title",null,A):null,h.default.createElement("path",{d:m,fill:o}),h.default.createElement("path",{d:x,fill:f}))});return a.displayName="QRCodeSvg",a.propTypes=r,X.default=a,X}var Ee;function dt(){if(Ee)return G;Ee=1,Object.defineProperty(G,"__esModule",{value:!0}),G.QRCode=void 0;var c=Object.assign||function(g){for(var A=1;A<arguments.length;A++){var b=arguments[A];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(g[w]=b[w])}return g},u=Be(),s=o(u),p=Se(),h=o(p),n=ot(),l=o(n),r=Le(),a=o(r),e=lt(),i=o(e);function o(g){return g&&g.__esModule?g:{default:g}}function m(g,A){var b={};for(var w in g)A.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(g,w)&&(b[w]=g[w]);return b}var x={bgColor:s.default.oneOfType([s.default.object,s.default.string]),fgColor:s.default.oneOfType([s.default.object,s.default.string]),level:s.default.string,size:s.default.number,value:s.default.string.isRequired},f=(0,r.forwardRef)(function(g,A){var b=g.bgColor,w=b===void 0?"#FFFFFF":b,_=g.fgColor,M=_===void 0?"#000000":_,F=g.level,O=F===void 0?"L":F,D=g.size,I=D===void 0?256:D,z=g.value,C=m(g,["bgColor","fgColor","level","size","value"]),Q=new l.default(-1,h.default[O]);Q.addData(z),Q.make();var B=Q.modules;return a.default.createElement(i.default,c({},C,{bgColor:w,bgD:B.map(function(L,K){return L.map(function(q,H){return q?"":"M "+H+" "+K+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:M,fgD:B.map(function(L,K){return L.map(function(q,H){return q?"M "+H+" "+K+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:A,size:I,viewBoxSize:B.length}))});return G.QRCode=f,f.displayName="QRCode",f.propTypes=x,G.default=f,G}var ct=dt();const ut=rt(ct),Re=3500,Ae=40,ce=()=>typeof window<"u"&&window.matchMedia("(max-width: 768px)").matches,mt=[{id:"cod",title:"Cash on Delivery",description:"Pay in cash when the product is delivered to you."}],U=(c=0,u="INR")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:u,maximumFractionDigits:2}).format(Number(c)||0),gt=()=>{var me,he;const c=qe(),u=He(),{user:s}=$e(),{items:p,shippingAddress:h,totals:n,orderId:l,appliedCoupon:r,qrfolioUpload:a}=Ge(d=>d.checkout),{clearCart:e}=Ke(),[i,o]=E.useState("cod"),[m,x]=E.useState(!1),[f,g]=E.useState(!1),[A,b]=E.useState(null),[w,_]=E.useState(null),[M,F]=E.useState(()=>ce()),O=E.useRef(0),D=E.useRef(null);E.useEffect(()=>{if(!p.length){if(l)return;u("/cart",{replace:!0});return}if(!h){u("/checkout/address",{replace:!0});return}c(Ye("payment"))},[c,p.length,h,l,u]),E.useEffect(()=>{if(typeof window>"u")return;const d=()=>{F(ce())};return d(),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]);const I=E.useMemo(()=>{const d=/^[a-f\d]{24}$/i,y=P=>{if(!P||typeof P!="object")return;const R=new Set,T=[P.product,P.mongoId,P._id,P.id,P.slug,P.productId];for(;T.length;){const v=T.shift();if(v!=null){if(typeof v=="string"||typeof v=="number"){const j=String(v).trim();if(d.test(j))return j;continue}if(typeof v=="object"){if(R.has(v))continue;if(R.add(v),typeof v.$oid=="string"&&d.test(v.$oid))return v.$oid.trim();if(typeof v.toHexString=="function"){const N=v.toHexString();if(d.test(N))return N}const j=[v._id,v.mongoId,v.id,v.product,v.slug,v.$id];if(T.push(...j.filter(N=>N!==void 0)),v.toString&&v.toString!==Object.prototype.toString&&typeof v.toString=="function"){const N=v.toString();if(typeof N=="string"&&d.test(N.trim()))return N.trim()}}}}};return p.map(P=>{if(!P||typeof P!="object")return null;const{name:R,image:T,price:v,quantity:j,size:N,hsnCode:k,hsn:V,gstRate:Z,taxRate:ee}=P;return{product:y(P),name:R,image:T,price:v,quantity:j,size:N,hsnCode:k||V||void 0,gstRate:Z!=null?Number(Z):ee!=null?Number(ee):void 0}}).filter(Boolean)},[p]),z=E.useMemo(()=>I.reduce((d,y)=>d+Number(y.price||0)*Number(y.quantity||0),0),[I]),C=E.useMemo(()=>{const d=(k,V=0)=>Number.isFinite(Number(k))?Number(k):V,y=d(n.shippingFee,0),P=d(n.taxAmount,0),R=d(n.discount,0),T=n.subtotal>0?n.subtotal:z,v=n.total>0?n.total:T+y+P-R,j=Math.max(Number.isFinite(v)?v:0,0),N=n.currency||"INR";return{subtotal:T,shippingFee:y,taxAmount:P,discount:R,total:j,currency:N}},[z,n]),Q=E.useMemo(()=>({shippingFee:C.shippingFee,taxAmount:C.taxAmount,discount:C.discount,currency:C.currency,baseSubtotal:z}),[z,C]),B=E.useMemo(()=>{if(!h)return null;const d=h.email&&h.email.trim()||(s==null?void 0:s.email)&&s.email.trim()||"";return{fullName:h.fullName,mobile:h.mobile,email:d,pincode:h.pincode,state:h.state,city:h.city,addressLine:h.addressLine,alternatePhone:h.alternatePhone||""}},[h,s==null?void 0:s.email]),L=E.useCallback(()=>{D.current&&(clearTimeout(D.current),D.current=null)},[]),K=E.useCallback(d=>{d!==i&&(d!=="cod"&&(L(),_(null),g(!1),b(null)),o(d))},[i,L]),q=E.useCallback((d,y)=>{const P=(y==null?void 0:y.order)||null,R=(P==null?void 0:P._id)||(y==null?void 0:y.orderId);c(Y("paid")),R&&c(pe(R)),e(),S.success("Payment Success âœ…"),L(),g(!1),_(T=>T&&{...T,paymentStatus:"SUCCESS",completedAt:new Date}),u("/checkout/payment-success",{replace:!0,state:{order:P,orderId:R,transactionId:d,amountPaid:y==null?void 0:y.amountInRupees}}),c(xe()),c(Xe()),c(We())},[c,u,L]),H=E.useCallback((d,y,P)=>{c(Y("failed")),S.error(y||"Payment Failed âŒ"),L(),g(!1),_(R=>R&&{...R,paymentStatus:"FAILED"}),u("/checkout/payment-failed",{replace:!0,metadata:{initiationMessage:phonePeResponse.message},state:{transactionId:d,message:y||"We couldn't confirm your payment. Please try again or choose another method.",gateway:P==null?void 0:P.gateway}})},[c,u,L]),W=E.useCallback(d=>{O.current=0,b(null);const y=async()=>{var P,R;O.current+=1;try{const T=await Ze(d),v=T==null?void 0:T.data;if(!v)throw new Error("No payment status returned by server");const j=String(v.paymentStatus||"").toUpperCase();if(j==="SUCCESS"){q(d,v);return}if(j==="FAILED"){H(d,((P=v.gateway)==null?void 0:P.message)||((R=v.gatewayError)==null?void 0:R.message),v,T);return}if(_(N=>N&&{...N,qrData:v.qrData||N.qrData,redirectUrl:v.redirectUrl||N.redirectUrl}),O.current>=Ae){g(!1),b("Payment is still pending. Please confirm the status in the PhonePe app."),S("Payment pending. You can retry once in PhonePe is complete.",{icon:"â³"});return}D.current=setTimeout(y,Re)}catch(T){if(console.error("pollPaymentStatus error",T),O.current>=Ae){g(!1),b(T.message||"Unable to confirm payment right now. Please check the PhonePe app."),S.error("Could not verify payment. Please check and try again.");return}D.current=setTimeout(y,Math.round(Re*1.5))}};g(!0),L(),y()},[H,q,L]);E.useEffect(()=>()=>L(),[L]),E.useEffect(()=>{i==="cod"&&(_(null),g(!1),b(null),L())},[i,L]),E.useEffect(()=>{C.total>0&&(Math.abs(((n==null?void 0:n.total)||0)-C.total)>.01||Math.abs(((n==null?void 0:n.subtotal)||0)-C.subtotal)>.01)&&c(Je(C))},[c,C,n]);const Me=E.useCallback(async()=>{if(!B)return;const d=I.findIndex(v=>!(v!=null&&v.product));if(d!==-1){const v=p==null?void 0:p[d],j=I[d];throw console.error("Checkout item missing product reference",{itemIndex:d,rawItem:v,normalizedItem:j}),S.error(`Cart item #${d+1} is outdated. Please remove it and add the product again.`,{duration:4e3}),new Error("Checkout item missing product reference")}const y={items:I,pricing:{...Q},shippingAddress:B,payment:{method:"cod",status:"pending"},...r!=null&&r.code?{coupon:{code:r.code}}:{},...a?{qrfolio:{image:a.dataUrl||void 0,imageUrl:a.imageUrl||void 0}}:{}},P=await Ve(y),R=P==null?void 0:P.data,T=R==null?void 0:R._id;c(Y("pending")),T&&c(pe(T)),e(),S.success("Order placed successfully"),u("/",{replace:!0,state:{recentOrderId:T}}),c(xe())},[r==null?void 0:r.code,c,p,u,I,Q,B]),De=E.useCallback(()=>{if(!(w!=null&&w.merchantTransactionId)){S.error("Transaction ID not available yet");return}W(w.merchantTransactionId)},[w,W]),Oe=E.useCallback(d=>{if(!(!d||typeof window>"u"))try{window.open(d,"_blank","noopener,noreferrer")||(window.location.href=d)}catch(y){console.error("Failed to open redirect url",y),window.location.href=d}},[]),Ue=E.useCallback(async d=>{var y;if(!(!d||typeof navigator>"u"))try{if((y=navigator.clipboard)!=null&&y.writeText)await navigator.clipboard.writeText(d),S.success("Transaction ID copied");else throw new Error("Clipboard API not available")}catch(P){console.error("Failed to copy transaction id",P),S.error("Unable to copy transaction ID")}},[]),Fe=async()=>{var y,P,R,T,v;if(!B){S.error("Please provide a delivery address first"),u("/checkout/address");return}if(!I.length){S.error("Your cart is empty"),u("/cart");return}const d=p.find(j=>{if(!(j!=null&&j.isSellerProduct))return!1;const N=Number((j==null?void 0:j.maxPurchaseQuantity)??0);if(!Number.isFinite(N)||N<=0)return!1;const k=Math.floor(N);return Number(j.quantity||0)>k});if(d){const j=Number(d.maxPurchaseQuantity||0),N=Math.max(1,Math.floor(j||0));S.error(`You can only buy up to ${N} unit${N===1?"":"s"} of ${d.name} per order.`);return}if(!(C.total>0)&&i!=="cod"){S.error("Order total must be greater than zero before paying");return}if(c(et(i)),i==="cod"){try{x(!0),await Me()}catch(j){console.error("Failed to place COD order",j);const N=((P=(y=j.response)==null?void 0:y.data)==null?void 0:P.message)||j.message||"Failed to place order";S.error(N)}finally{x(!1)}return}try{x(!0),b(null);const j={paymentMethod:i,items:I,pricing:{...Q,subtotal:C.subtotal,total:C.total},shippingAddress:B,paymentInstrument:{type:"PAY_PAGE"},metadata:{checkoutSubtotal:C.subtotal,checkoutTotal:C.total,...a?{qrfolio:{image:a.dataUrl||void 0,imageUrl:a.imageUrl||void 0}}:{}},...r!=null&&r.code?{coupon:{code:r.code}}:{}},N=await tt(j);if(!(N!=null&&N.success)||!((R=N==null?void 0:N.data)!=null&&R.merchantTransactionId))throw new Error((N==null?void 0:N.message)||"Failed to initiate PhonePe payment");const k=N.data;S.success("Payment Initiated ðŸš€"),_({merchantTransactionId:k.merchantTransactionId,amountInRupees:k.amountInRupees,qrData:k.qrData,redirectUrl:k.redirectUrl,paymentStatus:k.paymentStatus,initiatedAt:new Date}),c(Y("pending")),k.redirectUrl&&ce()&&setTimeout(()=>{window.location.assign(k.redirectUrl)},400),W(k.merchantTransactionId)}catch(j){console.error("PhonePe payment initiation failed",j);const N=((v=(T=j.response)==null?void 0:T.data)==null?void 0:v.message)||j.message||"Unable to initiate payment";S.error(N),g(!1),_(null)}finally{x(!1)}},Qe=(r==null?void 0:r.discountAmount)||0,ue=C.discount>0?C.discount:Qe,J=w?String(w.paymentStatus||"PENDING").toUpperCase():"PENDING",ze=J==="SUCCESS"?"bg-emerald-100 text-emerald-700":J==="FAILED"?"bg-rose-100 text-rose-600":"bg-amber-100 text-amber-700";return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-[calc(100vh-180px)] bg-light-bg",children:t.jsx("div",{className:"mx-auto w-full max-w-6xl p-6 lg:p-10",children:t.jsxs("div",{className:"space-y-6",children:[!M&&t.jsxs($.header,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col gap-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-primary",children:"Secure Payment"}),t.jsx("h2",{className:"text-2xl font-semibold text-secondary",children:"Choose how you want to pay"}),t.jsx("p",{className:"mt-1 text-sm text-medium-text",children:"Scan the PhonePe QR or pay via UPI for instant confirmation."})]}),t.jsx("span",{className:"inline-flex w-max items-center justify-center rounded-full bg-primary/10 px-4 py-1 text-sm font-medium text-primary",children:"Step 3 of 4"})]}),!M&&t.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base font-semibold text-secondary",children:"Delivering to"}),t.jsx("p",{className:"mt-1 text-sm text-medium-text",children:"Review your address before completing the payment."})]}),t.jsx("button",{type:"button",onClick:()=>u("/checkout/address"),className:"rounded-xl border border-primary/40 px-4 py-2 text-sm font-medium text-primary transition hover:border-primary hover:bg-primary/5",children:"Change address"})]}),B&&t.jsxs("div",{className:"mt-4 grid gap-3 text-sm text-secondary sm:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:B.fullName}),t.jsx("p",{className:"text-medium-text",children:B.mobile}),B.email&&t.jsx("p",{className:"text-medium-text",children:B.email})]}),t.jsxs("div",{children:[t.jsx("p",{children:B.addressLine}),t.jsxs("p",{children:[B.city,", ",B.state," -"," ",B.pincode]}),B.alternatePhone&&t.jsxs("p",{className:"text-medium-text",children:["Alt: ",B.alternatePhone]})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-8 lg:grid lg:grid-cols-[1.1fr,0.9fr]",children:[t.jsx("aside",{className:"order-1 lg:order-2 lg:sticky lg:top-10 lg:h-max",children:t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Order Summary"}),(r==null?void 0:r.code)&&t.jsxs("span",{className:"rounded-full bg-emerald-50 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-emerald-600",children:["Coupon ",r.code]})]}),t.jsxs("div",{className:"space-y-5 px-5 pb-5 pt-4 text-sm text-medium-text",children:[t.jsx("div",{className:"space-y-3",children:p.map(d=>{var y,P;return t.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"font-medium text-secondary",children:d.name}),t.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",d.quantity]})]}),d.size&&t.jsxs("span",{className:"mt-1 text-xs uppercase text-slate-500",children:["Size: ",d.size]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] text-slate-500",children:[t.jsxs("span",{children:["HSN: ",d!=null&&d.hsnCode?d.hsnCode:"--"]}),t.jsx("span",{className:"text-slate-300",children:"|"}),t.jsxs("span",{children:["GST:"," ",Number.isFinite(Number(d==null?void 0:d.gstRate))?`${Number(d.gstRate).toFixed(2).replace(/\.00$/,"")} %`:"--"]})]}),t.jsxs("span",{className:"mt-2 block text-xs text-slate-500",children:["Unit Price: â‚¹",((P=(y=d.price)==null?void 0:y.toLocaleString)==null?void 0:P.call(y))||0]})]},`${d.product||d.id}-${d.size||"default"}`)})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Subtotal"}),t.jsx("span",{children:U(C.subtotal,C.currency)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Shipping Fee"}),t.jsx("span",{children:U(C.shippingFee,C.currency)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Tax"}),t.jsx("span",{children:U(C.taxAmount,C.currency)})]}),t.jsxs("div",{className:"flex items-center justify-between font-semibold text-emerald-600",children:[t.jsx("span",{children:"Discount"}),t.jsxs("span",{children:["-",U(ue>0?ue:0,C.currency)]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-3 text-base font-semibold text-secondary",children:[t.jsx("span",{children:"Total"}),t.jsx("span",{children:U(C.total,C.currency)})]})]}),t.jsx("div",{className:"rounded-xl bg-primary/5 px-4 py-3 text-xs text-medium-text",children:"All card and UPI transactions on p2pdeal are 100% secure and encrypted."})]})]})}),t.jsxs("div",{className:"order-2 space-y-6 lg:order-1",children:[!M&&t.jsxs("header",{className:"flex flex-col gap-4 rounded-3xl border border-slate-100 bg-white p-6 shadow-sm lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h2",{className:"text-xl font-semibold text-secondary",children:"Choose your payment method"}),t.jsx("p",{className:"text-sm text-medium-text",children:"Select a secure payment option to complete your order."})]}),t.jsxs("div",{className:"rounded-2xl bg-primary/5 px-4 py-2 text-sm text-primary",children:["Total payable:"," ",U(C.total,C.currency)]})]}),t.jsx("section",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-secondary",children:"Payment Options"}),t.jsx("p",{className:"text-xs text-medium-text",children:"All transactions are secure and encrypted. Select your preferred method below."})]}),t.jsx("div",{className:"space-y-3",children:mt.map(d=>{const y=i===d.id;return t.jsx("button",{type:"button",onClick:()=>K(d.id),className:`w-full rounded-2xl border px-4 py-4 text-left transition ${y?"border-primary bg-primary/5 text-primary shadow-sm":"border-slate-200 bg-white text-secondary hover:border-primary/40 hover:bg-primary/5"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold",children:d.title}),t.jsx("p",{className:"text-xs text-medium-text",children:d.description})]}),t.jsx("span",{className:`mt-1 inline-flex h-5 w-5 items-center justify-center rounded-full border text-[10px] font-semibold transition ${y?"border-primary bg-primary text-white":"border-slate-300 text-slate-400"}`,children:""})]})},d.id)})})]})}),t.jsx(fe,{children:w?t.jsx($.section,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsx("h3",{className:"text-base font-semibold text-secondary",children:"Complete your PhonePe payment"}),t.jsx("span",{className:`inline-flex items-center justify-center rounded-full px-3 py-1 text-xs font-semibold ${ze}`,children:J})]}),t.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1fr),minmax(0,1fr)]",children:[t.jsx("div",{className:"flex flex-col items-center justify-center gap-4 rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-6",children:w.qrData?t.jsxs(t.Fragment,{children:[t.jsx(ut,{value:w.qrData,size:220,includeMargin:!0,renderAs:"svg"}),t.jsxs("p",{className:"text-sm font-medium text-secondary",children:["Scan using the PhonePe app to pay"," ",U(w.amountInRupees,C.currency)]})]}):t.jsx("p",{className:"text-center text-sm text-medium-text",children:"Generating QR codeâ€¦ follow the redirect link below to continue in the PhonePe app."})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4 text-sm text-secondary",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:"font-medium",children:"Transaction ID"}),t.jsx("button",{type:"button",onClick:()=>Ue(w.merchantTransactionId),className:"text-xs font-semibold text-primary hover:underline",children:"Copy"})]}),t.jsx("p",{className:"mt-1 break-all font-mono text-xs text-medium-text",children:w.merchantTransactionId}),t.jsxs("p",{className:"mt-3 flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Amount"}),t.jsx("span",{className:"font-semibold text-secondary",children:U(w.amountInRupees,C.currency)})]}),w.initiatedAt&&t.jsxs("p",{className:"mt-1 text-xs text-medium-text",children:["Initiated at"," ",(he=(me=w.initiatedAt).toLocaleTimeString)==null?void 0:he.call(me,"en-IN",{hour:"2-digit",minute:"2-digit"})]})]}),w.redirectUrl&&t.jsx("button",{type:"button",onClick:()=>Oe(w.redirectUrl),className:"w-full rounded-xl bg-primary px-4 py-3 text-sm font-semibold text-white shadow hover:bg-primary-dark",children:"Open PhonePe payment page"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsx("button",{type:"button",onClick:De,className:"rounded-xl border border-slate-300 px-4 py-2 text-sm font-medium text-secondary transition hover:border-primary/60 hover:text-primary",children:"Refresh status"}),t.jsx("button",{type:"button",onClick:()=>_(null),className:"rounded-xl border border-transparent px-4 py-2 text-sm text-medium-text underline-offset-4 hover:text-primary hover:underline",children:"Try a different method"})]}),A&&t.jsx("p",{className:"rounded-xl border border-amber-400 bg-amber-50 p-3 text-sm text-amber-700",children:A})]})]})]})},"phonepe-session"):!M&&t.jsx($.section,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"space-y-4 text-sm text-medium-text",children:[t.jsx("h3",{className:"text-base font-semibold text-secondary",children:"How PhonePe checkout works"}),t.jsxs("ol",{className:"list-decimal space-y-2 pl-5",children:[t.jsx("li",{children:"Click â€œPay & Place Orderâ€ to create a secure PhonePe transaction."}),t.jsx("li",{children:"Scan the QR on desktop or continue in the PhonePe app on mobile."}),t.jsx("li",{children:"Weâ€™ll automatically confirm your payment and place the order."})]}),t.jsx("p",{className:"text-xs text-slate-500",children:"Need to change the payment option? You can always switch back to Cash on Delivery."})]})},"phonepe-instructions")}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[!M&&t.jsx("button",{type:"button",onClick:()=>u("/checkout/address"),className:"w-full rounded-xl border border-slate-300 px-5 py-3 text-sm font-semibold text-secondary transition hover:border-primary/50 hover:bg-primary/5 sm:w-auto",children:"Back to Address"}),t.jsx($.button,{whileHover:{scale:m||f?1:1.02},whileTap:{scale:.98},onClick:Fe,disabled:m||f,className:"w-full rounded-xl bg-primary px-6 py-3 text-sm font-semibold text-white shadow-md shadow-primary/20 transition disabled:cursor-not-allowed disabled:opacity-60 hover:bg-primary-dark sm:w-auto",children:m?i==="cod"?"Placing Order...":"Contacting PhonePe...":i==="cod"?"Place Order":w?"Regenerate Payment":"Pay & Place Order"})]})]})]})]})})}),t.jsx(fe,{children:f&&t.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:t.jsxs($.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"w-full max-w-sm rounded-3xl bg-white p-6 text-center shadow-xl",children:[t.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-2 border-primary/30 border-t-primary"}),t.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Waiting for PhonePe confirmationâ€¦"}),t.jsx("p",{className:"mt-2 text-sm text-medium-text",children:"Complete the payment in the PhonePe app. Weâ€™ll place your order as soon as it is confirmed."}),(w==null?void 0:w.merchantTransactionId)&&t.jsxs("p",{className:"mt-4 truncate text-xs font-mono text-slate-500",children:["Txn ID: ",w.merchantTransactionId]})]})},"phonepe-wait-overlay")})]})};export{gt as default};
