import{r as d,j as t,m as E,A as z}from"./vendor-2d1PFKo4.js";import{S as ee,P as te,A as re,a as se}from"./autoplay-hkV-3Na4.js";import{c as ae,L as _,a as oe,f as Y,g as ie,u as J,X as Z,S as ne,b as le,d as ce}from"./index-Bpx0OnSg.js";import{P as D}from"./ProductCard-C96ioTkX.js";import{s as H,a as V,p as de}from"./animations-CMxtCVje.js";import{f as ue}from"./offerLightboxApi-Dk5QGubC.js";import{C as me}from"./copy-pxcJIyRH.js";import{L as he}from"./loader-circle-DRAKHMK_.js";import{S as fe}from"./SeoHead-Cc-5aXvr.js";import"./react-BzrpNAyj.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],W=ae("chevron-right",pe),ge=({src:e,threshold:s=240,isFirstSlide:o=!1,...m})=>{const[h,g]=d.useState(null),[y,r]=d.useState(!1);d.useEffect(()=>{let f=!0;const a=new Image;return a.crossOrigin="anonymous",o&&(a.fetchPriority="high",a.loading="eager"),a.src=e,a.onload=()=>{if(!f)return;if(r(!0),o){g(e);return}const i=document.createElement("canvas");i.width=a.width,i.height=a.height;const v=i.getContext("2d");if(!v){g(e);return}v.drawImage(a,0,0);const x=v.getImageData(0,0,i.width,i.height),{data:j}=x;for(let u=0;u<j.length;u+=4){const N=j[u],w=j[u+1],I=j[u+2];N>=s&&w>=s&&I>=s&&(j[u+3]=0)}v.putImageData(x,0,0),g(i.toDataURL("image/png"))},a.onerror=()=>{f&&(g(e),r(!0))},()=>{f=!1}},[e,s,o]);const n=o?{...m,fetchPriority:"high",loading:"eager","data-lcp-image":"true"}:{...m,loading:"lazy"};return t.jsx("img",{src:h||e,alt:"",...n,style:{...n.style||{},opacity:y?1:0,transition:"opacity 0.3s ease-in-out"}})},O=e=>e?e.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/&/g," and ").replace(/[^a-zA-Z0-9]+/g,"-").replace(/^-+|-+$/g,"").toLowerCase():"",q=(...e)=>e.reduce((s,o)=>!s&&o?o:s,""),F=new Map,B="https://shop.p2pdeal.net/images/og/mst-blockchain-merch-home.jpg",G=e=>{if(typeof e!="string")return e;const s=e.trim();return s&&(/hero-carousel\/primary\/landing-hero\.webp/i.test(s)?B:s)},R="shop-p2p-hero-cache-v1",xe=1e3*60*60*6,Q=[{id:"default-hero",overline:"Official Merch",title:"Unlock ₹200 off your first order",description:"Exclusive MST Blockchain apparel and accessories now available with fast nationwide delivery.",background:B,spotlightImage:B,showTitle:!0,showOverline:!0,showDescription:!0,primaryCta:{label:"Shop Now",href:"/shop"},secondaryCta:null,showPrimaryCta:!0,showSecondaryCta:!1,order:0,isActive:!0}],T=typeof window<"u",K=()=>{if(!T)return[];try{const e=window.sessionStorage.getItem(R);if(!e)return[];const s=JSON.parse(e);return!Array.isArray(s==null?void 0:s.slides)||typeof(s==null?void 0:s.savedAt)!="number"?(window.sessionStorage.removeItem(R),[]):Date.now()-s.savedAt>xe?(window.sessionStorage.removeItem(R),[]):s.slides}catch(e){return console.error("Failed to read cached hero slides",e),T&&window.sessionStorage.removeItem(R),[]}},ye=e=>{if(!(!T||!Array.isArray(e)||!e.length))try{window.sessionStorage.setItem(R,JSON.stringify({slides:e,savedAt:Date.now()}))}catch(s){console.error("Failed to persist hero slides cache",s)}},be=()=>{if(T)try{window.sessionStorage.removeItem(R)}catch(e){console.error("Failed to clear hero slides cache",e)}},P=(e,s)=>{if(!e)return"";if(typeof e.get=="function"){const m=e.get(s);return typeof m=="string"?m:m!=null?String(m):""}const o=e[s];return o==null?"":typeof o=="string"?o:String(o)},we=async e=>{const s=(e||"").toLowerCase();if(!s)return null;if(F.has(s))return F.get(s);try{const{data:o}=await Y({search:e,limit:5}),h=o.find(g=>{var y;return((y=g==null?void 0:g.name)==null?void 0:y.toLowerCase())===s})||o[0]||null;return F.set(s,h),h}catch(o){return console.error("Failed to resolve hero slide product",e,o),F.set(s,null),null}},ve=(e,s)=>{var c,C,b,k;if(!e||typeof e!="object")return null;const o=(S,M="")=>typeof S=="string"?S.trim():M,m=S=>{const M=o(S);return M||void 0},h=e&&typeof e.metadata=="object"&&!Array.isArray(e.metadata)?e.metadata:{},g=G(o(e.imageUrl||e.spotlightImage||"")),y=G(o(e.backgroundUrl||e.background||"")),r=o((c=e.primaryCta)==null?void 0:c.label),n=o(((C=e.primaryCta)==null?void 0:C.href)||""),f=o(P(h,"productUrl")),a=O(P(h,"productSlug")),i=o(P(h,"productId")),v=O(e.overline),x=O(e.title),j=q(n,f,a&&`/product/${encodeURIComponent(a)}`,i&&`/product/${encodeURIComponent(i)}`,v&&`/product/${encodeURIComponent(v)}`,x&&`/product/${encodeURIComponent(x)}`),u=o(((b=e.secondaryCta)==null?void 0:b.label)||""),N=o(((k=e.secondaryCta)==null?void 0:k.href)||""),w=o(P(h,"categoryUrl")),I=O(P(h,"categorySlug")||P(h,"category")||P(h,"categoryName")||""),A=O(P(h,"productCategory")||""),l=q(N,w,I&&`/category/${encodeURIComponent(I)}`,A&&`/category/${encodeURIComponent(A)}`,x&&`/category/${encodeURIComponent(x)}`),p=u||(l?"View All":"");return{id:e._id||e.id||`hero-${s}`,overline:o(e.overline),title:o(e.title),description:o(e.description),titleColor:m(e.titleColor),overlineColor:m(e.overlineColor),descriptionColor:m(e.descriptionColor),background:y||g,spotlightImage:g,showTitle:e.showTitle!==!1,showOverline:e.showOverline!==!1,showDescription:e.showDescription!==!1,primaryCta:r&&j?{label:r,href:j}:null,secondaryCta:l?{label:p,href:l}:null,showPrimaryCta:e.showPrimaryCta!==!1,showSecondaryCta:e.showSecondaryCta!==!1,order:Number.isFinite(Number(e.order))?Number(e.order):s,isActive:e.isActive!==!1}},je=()=>{d.useEffect(()=>{if(typeof window>"u")return;const r=document.createElement("link");return r.rel="preload",r.as="image",r.href="https://ecom-mega-mart.s3.ap-south-1.amazonaws.com/hero-carousel/primary/1765561416926-9dff5ed0f1a91ba7f030da8491df240f.webp",r.imagesrcset="https://ecom-mega-mart.s3.ap-south-1.amazonaws.com/hero-carousel/primary/1765561416926-9dff5ed0f1a91ba7f030da8491df240f.webp 1x",r.fetchPriority="high",document.head.appendChild(r),()=>{document.head.removeChild(r)}},[]);const e=d.useRef(null),s=d.useRef(null);if(e.current===null){const r=K();e.current=r.length?r:[]}const[o,m]=d.useState(e.current),[h,g]=d.useState(e.current.length===0);d.useEffect(()=>{let r=!0;return(async()=>{var f;try{g(!0);const a=await oe.get("/hero-carousel"),i=Array.isArray((f=a==null?void 0:a.data)==null?void 0:f.data)?a.data.data:[],v=await Promise.all(i.map(async(x,j)=>{var p,c,C,b,k,S;if(!x||typeof x!="object")return null;const u=ve(x,j);if(!u||!u.isActive||!u.background)return null;const N=((p=u.overline)==null?void 0:p.trim())||((c=u.title)==null?void 0:c.trim());if(!N||((C=u.primaryCta)==null?void 0:C.href)!=="/shop")return u;const w=await we(N),I=(w==null?void 0:w.slug)||(w==null?void 0:w.id)||(w==null?void 0:w.mongoId)||(w==null?void 0:w._id),A=I?I.toString():"";if(!w||!A)return u;const l={...u};if(l.primaryCta={label:((b=u.primaryCta)==null?void 0:b.label)||"Shop Now",href:`/product/${encodeURIComponent(A)}`},!((k=u.secondaryCta)!=null&&k.href)){const M=w.category||w.brand||u.title,L=O(M);L&&(l.secondaryCta={label:((S=u.secondaryCta)==null?void 0:S.label)||"View All",href:`/category/${encodeURIComponent(L)}`})}return l}));if(r){const x=v.filter(Boolean).sort((j,u)=>(j.order??0)-(u.order??0));x.length>0?(e.current=x,ye(x),m(x)):(be(),e.current=[],m([]))}}catch(a){if(r){const i=K();i.length?(e.current=i,m(i)):(e.current=Q,m(Q))}console.error("Failed to load hero carousel slides",a)}finally{r&&g(!1)}})(),()=>{r=!1}},[]);const y=d.useMemo(()=>o,[o]);return d.useEffect(()=>{if(!T)return;const r=[];return y.slice(1).forEach(n=>{const f=(n==null?void 0:n.background)||(n==null?void 0:n.spotlightImage);if(!f)return;const a=new Image;a.crossOrigin="anonymous",a.src=f,r.push(a)}),()=>{r.forEach(n=>{n.src=""})}},[y]),d.useEffect(()=>{if(!T)return;const r=y[0],n=(r==null?void 0:r.background)||(r==null?void 0:r.spotlightImage)||"",f=()=>{const v=s.current;v!=null&&v.parentNode&&v.parentNode.removeChild(v),s.current=null};if(!n){f();return}const a=s.current;if((a==null?void 0:a.getAttribute("data-hero-preload"))===n)return;a&&f();const i=document.createElement("link");return i.rel="preload",i.as="image",i.href=n,i.crossOrigin="anonymous",i.fetchPriority="high",i.setAttribute("data-hero-preload",n),document.head.appendChild(i),s.current=i,()=>{s.current===i&&i.parentNode&&(i.parentNode.removeChild(i),s.current=null)}},[y]),y.length?t.jsx("section",{className:"relative overflow-hidden bg-slate-950  w-screen",style:{left:"50%",transform:"translateX(-50%)"},children:t.jsx("div",{className:"w-full",children:t.jsx(ee,{modules:[te,re],spaceBetween:0,slidesPerView:1,pagination:{clickable:!0},loop:y.length>1,autoplay:y.length>1?{delay:5e3,disableOnInteraction:!1,reverseDirection:!1}:!1,onSwiper:r=>{var n;if((n=r==null?void 0:r.autoplay)!=null&&n.start)try{const f=r.autoplay.start();f&&typeof f.catch=="function"&&f.catch(()=>{})}catch{}},onAutoplay:(r,n)=>{n&&typeof n.preventDefault=="function"&&n.preventDefault()},className:"hero-slider h-full min-h-[55vh] md:min-h-[90vh]",style:{width:"100%"},children:y.map((r,n)=>{const f=r.background||r.spotlightImage,a=r.primaryCta,i=r.secondaryCta,v=!!(a!=null&&a.label&&(a!=null&&a.href)),x=!!(i!=null&&i.label&&(i!=null&&i.href)),j=r.showPrimaryCta!==!1&&v,u=r.showSecondaryCta!==!1&&x,N=n===0;return t.jsx(se,{className:"relative flex w-full min-h-[55vh] md:min-h-[90vh]",style:{width:"100%"},children:t.jsxs("div",{className:"relative flex h-full w-full items-center justify-center overflow-hidden min-h-[55vh] md:min-h-[90vh]",children:[f?t.jsx(ge,{src:f,alt:r.heading||"Hero Image",className:"absolute inset-0 h-full w-full object-cover object-center",isFirstSlide:N,width:"1920",height:"1080",style:{contentVisibility:"auto",contain:"paint"}}):null,t.jsx("div",{className:"absolute inset-0 bg-slate-950/55"}),t.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(148,163,184,0.18),transparent_70%)]"}),t.jsxs("div",{className:"relative z-10 mx-auto flex max-w-3xl flex-col items-center gap-6 px-4 pt-10 pb-14 text-center text-white sm:gap-8 sm:px-6 sm:pt-12 sm:pb-16 md:gap-10 md:pt-16 md:pb-20",children:[r.showOverline!==!1&&r.overline&&t.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-slate-200/80 sm:text-xs",style:{color:r.overlineColor||void 0},children:r.overline}),r.showTitle!==!1&&t.jsx("h1",{className:"text-2xl font-semibold leading-tight tracking-tight text-white sm:text-4xl md:text-6xl",style:{color:r.titleColor||void 0},children:r.title}),r.showDescription!==!1&&r.description&&t.jsx("p",{className:"hidden max-w-2xl text-xs text-slate-200 sm:block sm:text-sm md:text-lg",style:{color:r.descriptionColor||void 0},children:r.description}),(j||u)&&t.jsxs("div",{className:"flex w-full flex-row flex-wrap items-center justify-center gap-3 sm:w-auto sm:gap-4",children:[j&&t.jsxs(_,{to:a.href,className:"inline-flex items-center justify-center gap-2 rounded-full bg-[#008ECC] px-4 py-2 text-xs font-semibold text-white shadow-lg shadow-[#008ECC]/30 transition hover:bg-[#009ee3] sm:px-5 sm:py-3 sm:text-sm",children:[a.label,t.jsx(W,{size:16,className:"sm:size-5"})]}),u&&t.jsx(_,{to:i.href,className:"inline-flex items-center justify-center gap-2 rounded-full bg-[#008ECC] px-4 py-2 text-xs font-semibold text-white shadow-lg shadow-[#008ECC]/20 transition hover:bg-[#009ee3] sm:px-5 sm:py-3 sm:text-sm",children:i.label})]})]})]})},r.id)})})})}):h?t.jsx("section",{className:"relative overflow-hidden bg-slate-950 w-screen",style:{left:"50%",transform:"translateX(-50%)"},"aria-hidden":!0,children:t.jsxs("div",{className:"relative flex h-full w-full items-center justify-center overflow-hidden min-h-[55vh] md:min-h-[90vh]",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 via-slate-900 to-black animate-pulse"}),t.jsx("div",{className:"absolute inset-0 bg-slate-950/60"}),t.jsxs("div",{className:"relative z-10 mx-auto flex max-w-3xl flex-col items-center gap-6 px-4 pt-12 pb-16 text-center text-white sm:gap-7 sm:px-6 sm:pt-16 sm:pb-20",children:[t.jsx("div",{className:"h-3 w-32 rounded-full bg-white/30"}),t.jsx("div",{className:"h-10 w-3/4 rounded-full bg-white/25 sm:h-14"}),t.jsx("div",{className:"hidden h-16 w-full max-w-xl rounded-2xl bg-white/20 sm:block"}),t.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[t.jsx("span",{className:"h-10 w-32 rounded-full bg-[#008ECC]/40"}),t.jsx("span",{className:"h-10 w-24 rounded-full bg-[#008ECC]/30"})]})]})]})}):null},X=({title:e,linkTo:s,linkText:o="View All"})=>t.jsxs("div",{className:"flex justify-between items-center mb-4 mt-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-dark-text",children:e}),t.jsx("div",{className:" h-1.5 mt-2",style:{backgroundColor:"#008ECC"}})]}),s&&t.jsxs(_,{to:s,className:"hidden items-center font-semibold hover:underline sm:flex",children:[t.jsx("span",{style:{color:"#000000"},children:o}),t.jsx(W,{size:20,className:"ml-1 text-primary"})]})]}),ke=()=>{const[e,s]=d.useState([]),[o,m]=d.useState(!0),[h,g]=d.useState(""),[y,r]=d.useState([]),[n,f]=d.useState(!0),[a,i]=d.useState(""),v=6,x=e.length,j=y.length,u=d.useMemo(()=>`${o||x>1?"grid-cols-2":"grid-cols-1"} sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6`,[o,x]),N=d.useMemo(()=>`${n||j>1?"grid-cols-2":"grid-cols-1"} sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5`,[n,j]),w=(l=[])=>{const p=c=>{const C=String(c||"").trim().toUpperCase();if(!C)return{normalized:C,prefix:"",numeric:Number.POSITIVE_INFINITY};const b=C.match(/^([A-Z]+)(\d+)/);return b?{normalized:C,prefix:b[1],numeric:Number.parseInt(b[2],10)}:{normalized:C,prefix:C,numeric:Number.POSITIVE_INFINITY}};return[...l].sort((c,C)=>{const b=p(c==null?void 0:c.sku),k=p(C==null?void 0:C.sku);return b.prefix!==k.prefix?b.prefix.localeCompare(k.prefix):Number.isFinite(b.numeric)&&Number.isFinite(k.numeric)?b.numeric-k.numeric:b.normalized.localeCompare(k.normalized)})};d.useEffect(()=>{let l=!0;return(async()=>{m(!0);try{const{data:c}=await ie({limit:50,excludeSellerProducts:!0});if(l){const C=Array.isArray(c)?[...c].sort((b,k)=>{const S=M=>{const L=String(M||"").trim().toUpperCase();if(/^P\d{1,2}$/.test(L))return parseInt(L.slice(1),10);const $=parseInt(L.replace(/[^0-9]/g,""),10);return Number.isNaN($)?99:$};return S(b.categoryPriority)-S(k.categoryPriority)}):[];s(C.slice(0,6)),g("")}}catch(c){console.error("Failed to load featured products",c),l&&(g(c.message||"Unable to load featured products."),s([]))}finally{l&&m(!1)}})(),()=>{l=!1}},[]),d.useEffect(()=>{let l=!0;return(async()=>{f(!0);try{const c=await Y({onlySellerProducts:!0,status:"published",isFeatured:!0,sortBy:"createdAt",sortOrder:"desc",limit:8},{suppressToast:!0});if(!l)return;const b=(Array.isArray(c==null?void 0:c.data)?c.data:[]).filter(S=>!!(S!=null&&S.isFeatured)),k=w(b);r(k.slice(0,8)),i(b.length?"":"No featured seller products yet.")}catch(c){console.error("Failed to load seller spotlight",c),l&&(i(c.message||"Unable to load seller products."),r([]))}finally{l&&f(!1)}})(),()=>{l=!1}},[]);const I=(l=!1)=>t.jsxs("div",{className:`container mx-auto px-2 sm:px-4 ${l?"mt-10":""}`,children:[t.jsx(X,{title:t.jsxs(t.Fragment,{children:["MST Blockchain Official"," ",t.jsx("span",{style:{color:"#008ECC"},children:"Products"})]}),linkTo:"/shop",linkText:"Shop Collection"}),t.jsxs(E.div,{className:"w-full overflow-hidden flex flex-col",variants:H,children:[t.jsx("div",{className:`grid ${u} gap-4 sm:gap-4 min-h-[360px]`,children:o?Array.from({length:v}).map((p,c)=>t.jsxs("div",{className:"w-full min-w-0 animate-pulse rounded-2xl border border-slate-200/60 bg-slate-100/40 px-4 py-5","aria-hidden":!0,children:[t.jsx("div",{className:"h-40 w-full rounded-xl bg-slate-200"}),t.jsx("div",{className:"mt-4 h-3 w-3/4 rounded-full bg-slate-200"}),t.jsx("div",{className:"mt-2 h-3 w-1/2 rounded-full bg-slate-200"}),t.jsx("div",{className:"mt-5 h-9 w-full rounded-full bg-slate-300/80"})]},`mst-skeleton-${c}`)):e.map(p=>t.jsx(E.div,{variants:V,className:"w-full min-w-0",children:t.jsx(D,{product:p})},p.id||p._id))}),h&&!o&&t.jsx("div",{className:"py-6 text-center text-sm text-red-500",children:h}),!o&&!h&&e.length===0&&t.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"No featured products yet. Check back soon!"}),t.jsx("div",{className:"sm:hidden mt-4 w-full",children:t.jsx("a",{href:"/shop",className:"w-full block text-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-3 px-4 rounded-lg transition-colors duration-200",children:"View All"})})]})]}),A=(l=!1)=>t.jsxs("div",{className:`container mx-auto px-2 sm:px-4 ${l?"mt-10":""}`,children:[t.jsx(X,{title:t.jsxs(t.Fragment,{children:["Seller Hub Spotlight"," ",t.jsx("span",{style:{color:"#008ECC"},children:"Combo Pack"})]}),description:"Fresh drops from our verified sellers",linkTo:"/shop?seller=true",linkText:"Browse Seller Products"}),t.jsxs(E.div,{className:"w-full overflow-hidden",variants:H,children:[t.jsx("div",{className:`grid ${N} gap-4`,children:n?Array.from({length:6}).map((p,c)=>t.jsxs("div",{className:"w-full min-w-0 animate-pulse rounded-2xl border border-slate-200/60 bg-white px-4 py-5 shadow-sm",children:[t.jsx("div",{className:"h-40 w-full rounded-xl bg-slate-200"}),t.jsx("div",{className:"mt-4 h-3 w-3/4 rounded-full bg-slate-200"}),t.jsx("div",{className:"mt-2 h-3 w-1/2 rounded-full bg-slate-200"}),t.jsx("div",{className:"mt-5 h-9 w-full rounded-full bg-slate-200/80"})]},`seller-skeleton-${c}`)):y.map(p=>t.jsx(E.div,{variants:V,className:"w-full min-w-0",children:t.jsx(D,{product:p,variant:"seller"})},p.id||p._id))}),a&&!n&&t.jsx("div",{className:"py-6 text-center text-sm text-red-500",children:a}),!n&&!a&&y.length===0&&t.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"Seller products will appear here once published."}),t.jsx("div",{className:"mt-4 flex justify-center sm:hidden",children:t.jsx("a",{href:"/shop?seller=true",className:"block w-full rounded-lg bg-gray-100 px-4 py-3 text-center text-gray-800 font-medium transition-colors hover:bg-gray-200",children:"View All Seller Products"})})]})]});return t.jsx(E.section,{className:"w-full",initial:"initial",whileInView:"animate",viewport:{once:!0,margin:"-100px"},children:t.jsxs(t.Fragment,{children:[A(!1),I(!0)]})})};let U=!1;const Ce=()=>{var I,A;const[e,s]=d.useState(null),[o,m]=d.useState("idle"),[h,g]=d.useState(!1),[y,r]=d.useState(!1),n=d.useRef(null),f=J();d.useEffect(()=>{let l=!0;return(async()=>{m("loading");try{const c=await ue({offersOnly:!1}),b=(Array.isArray(c)?c:[]).find(k=>(k==null?void 0:k.isActive)!==!1)||null;if(!l)return;if(b){s(b);const k=b.isActive!==!1&&!U;g(k),m("success")}else s(null),g(!1),m("empty")}catch(c){if(console.error("Failed to load offer lightbox",c),!l)return;m("error")}})(),()=>{l=!1}},[]),d.useEffect(()=>{if(!e){g(!1);return}if(e.isActive===!1){g(!1);return}U||g(!0)},[e]),d.useEffect(()=>{if(!h){document.body.style.removeProperty("overflow"),r(!1);return}const l=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{n.current&&(clearTimeout(n.current),n.current=null),l?document.body.style.overflow=l:document.body.style.removeProperty("overflow")}},[h]),d.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]),d.useEffect(()=>{h&&(U=!0)},[h]);const a=d.useMemo(()=>({background:(e==null?void 0:e.backgroundColor)||"#f8fafc",text:(e==null?void 0:e.textColor)||"#0f172a",accent:(e==null?void 0:e.accentColor)||"#008ecc"}),[e]),i=(I=e==null?void 0:e.couponCode)==null?void 0:I.trim(),v=(A=e==null?void 0:e.couponDescription)==null?void 0:A.trim(),x=!!(e!=null&&e.imageUrl&&e.imageUrl.trim()),j=()=>{r(!0),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r(!1),n.current=null},1600)},u=()=>{if(i)try{navigator.clipboard.writeText(i).then(j).catch(()=>{j()})}catch{j()}},N=()=>{g(!1),r(!1),n.current&&(clearTimeout(n.current),n.current=null)},w=()=>{if(!e)return;const l=(e.buttonLinkType||"none").toLowerCase(),c=(e.buttonLinkValue||"").trim();if(!c&&l!=="none"){N();return}if(l==="product"){f(`/product/${c}`),N();return}if(l==="category"){f(`/category/${c}`),N();return}if(l==="custom"){window.location.href=c;return}l==="none"&&N()};return d.useEffect(()=>{const l=p=>{var c;(c=p==null?void 0:p.detail)!=null&&c.offer&&s(p.detail.offer),g(!0)};return window.addEventListener("open-offer-lightbox",l),()=>{window.removeEventListener("open-offer-lightbox",l)}},[]),h?t.jsx(z,{children:h&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 px-4 py-10 backdrop-blur-sm",role:"dialog","aria-modal":"true",children:t.jsxs(E.div,{initial:{opacity:0,scale:.94,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:12},transition:{duration:.25},className:"relative w-full max-w-3xl",children:[t.jsx("button",{type:"button",onClick:N,className:"absolute -right-3 -top-3 z-10 rounded-full bg-white p-2 text-slate-500 shadow-lg transition hover:text-slate-700","aria-label":"Close offers lightbox",children:t.jsx(Z,{size:18})}),t.jsxs("div",{className:"overflow-hidden rounded-[28px] border border-white/70 shadow-2xl",style:{backgroundColor:a.background,color:a.text},children:[x?t.jsx("div",{className:"relative h-44 w-full overflow-hidden bg-white md:hidden",style:{borderBottomLeftRadius:0,borderBottomRightRadius:0},children:t.jsx("img",{src:e.imageUrl,alt:(e==null?void 0:e.title)||"Offer artwork",className:"h-full w-full object-cover",style:{objectPosition:"center"}})}):null,t.jsxs("div",{className:`relative grid gap-0 ${x?"md:grid-cols-[1.1fr_0.9fr]":"md:grid-cols-1"}`,children:[t.jsxs("div",{className:"space-y-5 px-5 py-6 sm:px-10 sm:py-10",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-black px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-white shadow-sm",children:[t.jsx(ne,{size:14})," Special Offer"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h2",{className:"text-3xl font-bold leading-tight sm:text-4xl",style:{color:a.text},children:(e==null?void 0:e.title)||"Unlock ₹150 off your first order"}),e!=null&&e.subtitle?t.jsx("p",{className:"text-base font-medium",style:{color:a.text},children:e.subtitle}):null,t.jsx("p",{className:"text-sm text-slate-600 min-h-[3.25rem]",style:{color:a.text},children:(e==null?void 0:e.description)||""})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-black",children:"Coupon code"}),i?t.jsxs("div",{className:"relative",children:[t.jsxs("button",{type:"button",onClick:u,className:"flex w-full items-center justify-between rounded-2xl border border-white/70 bg-white/90 px-4 py-3 text-sm font-semibold uppercase tracking-[0.25em] text-black shadow-sm transition hover:border-white focus:outline-none focus:ring-2 focus:ring-white/60",children:[t.jsx("span",{children:i}),t.jsx(me,{size:16,className:"text-slate-500"})]}),t.jsx(z,{children:y&&t.jsx(E.div,{initial:{opacity:0,y:8,scale:.9},animate:{opacity:1,y:-10,scale:1},exit:{opacity:0,y:0,scale:.9},transition:{duration:.18},className:"pointer-events-none absolute right-3 top-0 -translate-y-full rounded-full bg-emerald-500 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-white shadow-lg",children:"Copied!"})})]}):t.jsx("div",{className:"rounded-2xl border border-white/40 bg-white/60 px-4 py-3 text-xs font-medium text-slate-500",children:"Coupon code coming soon"}),v?t.jsx("p",{className:"text-xs text-slate-500",children:v}):null]}),t.jsx("button",{type:"button",onClick:w,className:"w-full rounded-xl px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 transition",style:{backgroundColor:a.accent},children:(e==null?void 0:e.buttonLabel)||"Take the offer"}),t.jsx("button",{type:"button",onClick:N,className:"w-full text-xs font-medium text-slate-500 underline",children:(e==null?void 0:e.secondaryLabel)||"Nvm, I’ll pay full price"})]})]}),x?t.jsx("div",{className:"relative hidden min-h-[360px] overflow-hidden bg-white md:block",style:{borderTopRightRadius:0,borderBottomRightRadius:0},children:o==="loading"?t.jsx("div",{className:"flex h-full items-center justify-center bg-black/10",children:t.jsx(he,{className:"h-8 w-8 animate-spin text-white/80"})}):t.jsx("img",{src:e.imageUrl,alt:(e==null?void 0:e.title)||"Offer artwork",className:"h-full w-full object-cover",style:{objectPosition:"center"}})}):null]})]})]})})}):null},Te=()=>{const{searchQuery:e,setSearchQuery:s,searchProducts:o}=le(),[m,h]=d.useState(""),[g,y]=d.useState(!1),r=J();d.useEffect(()=>{h(e||"")},[e]);const n=d.useCallback(a=>{a.preventDefault();const i=m.trim();if(!i){s(""),o("");return}s(i),o(i),r(`/search?q=${encodeURIComponent(i)}`)},[m,s,o,r]),f=d.useCallback(()=>{h(""),s(""),o(""),r("/")},[s,o,r]);return t.jsxs(E.div,{className:"space-y-0 md:space-y-0 mb-0",variants:de,initial:"initial",animate:"animate",exit:"exit",children:[t.jsx(fe,{title:"MST Blockchain Merchandise | Crypto Merchandise & Blockchain Merch India",description:"Shop MST Blockchain official polo t-shirt (white edition), blockchain ceramic coffee mug, blockchain executive diary, blockchain executive pen, blockchain white logo cap and blockchain premium metal keychain. Premium crypto merchandise and blockchain merch india with fast delivery across India.",keywords:"crypto merchandise, blockchain merch india, mst merch india, blockchain official polo t-shirt (white edition), blockchain official polo t-shirt (yellow edition), blockchain official polo t-shirt (blue edition), blockchain ceramic coffee mug, blockchain executive diary, blockchain executive pen, blockchain executive diary + pen set, blockchain white logo cap, blockchain premium metal keychain, blockchain premium metal avenger keychain, blockchain premium metal spider keychain, blockchain premium metal spartan keychain, blockchain premium metal legend keychain, blockchain premium metal warrior keychain, best price blockchain official polo t-shirt (white edition) india, blockchain official polo t-shirt (white edition) under budget, affordable blockchain official polo t-shirt (white edition) online, best price blockchain ceramic coffee mug india, blockchain ceramic coffee mug under budget, affordable blockchain ceramic coffee mug online",canonicalPath:"/",openGraph:{title:"MST Blockchain Official Store | Crypto Merchandise & Blockchain Merch India",description:"Discover official MST Blockchain merchandise including blockchain official polo t-shirt (white edition, yellow edition, blue edition), blockchain ceramic coffee mug, blockchain executive diary + pen set, blockchain white logo cap and blockchain premium metal keychains.",image:"https://shop.p2pdeal.net/images/og/mst-blockchain-merch-home.jpg",type:"website"},twitter:{title:"MST Blockchain Merchandise | Crypto Merchandise & Blockchain Merch India",description:"Buy mst merch india with blockchain official polo t-shirt (white edition), blockchain ceramic coffee mug, blockchain executive diary, blockchain executive pen, blockchain white logo cap and blockchain premium metal keychain at best price in India.",image:"https://shop.p2pdeal.net/images/og/mst-blockchain-merch-home.jpg"},schema:[{"@context":"https://schema.org","@type":"Organization",name:"MST Blockchain Merchandise",url:"https://shop.p2pdeal.net/",logo:"https://shop.p2pdeal.net/logo.png"},{"@context":"https://schema.org","@type":"WebSite",name:"MST Blockchain Official Store",url:"https://shop.p2pdeal.net/",potentialAction:{"@type":"SearchAction",target:"https://shop.p2pdeal.net/search?q={search_term_string}","query-input":"required name=search_term_string"}}]}),t.jsx(Ce,{}),t.jsx("div",{className:"md:hidden mt-3 mb-4",children:t.jsxs("form",{onSubmit:n,className:`mx-4 flex items-center rounded-full border bg-white px-4 py-2 shadow-sm transition focus-within:ring-2 focus-within:ring-blue-100 ${g?"border-blue-400":"border-slate-200"}`,children:[t.jsx(ce,{className:"h-5 w-5 text-slate-400"}),t.jsx("input",{type:"text",value:m,onChange:a=>h(a.target.value),onFocus:()=>y(!0),onBlur:()=>y(!1),placeholder:"Search products, categories…",className:"ml-3 flex-1 border-0 bg-transparent text-sm text-slate-600 placeholder:text-slate-400 focus:outline-none","aria-label":"Search products"}),m?t.jsx("button",{type:"button",onClick:f,className:"ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full bg-slate-100 text-slate-500 transition hover:bg-slate-200 hover:text-slate-700","aria-label":"Clear search",children:t.jsx(Z,{size:16})}):null]})}),t.jsx("div",{className:"mt-4 md:mt-0",children:t.jsx(je,{})}),t.jsx("div",{className:"container mx-auto px-4 space-y-8 md:space-y-12",children:t.jsx(ke,{})})]})};export{Te as default};
