import{r as n,j as e,m as B}from"./vendor-2d1PFKo4.js";import{C as L,M as T}from"./MetricCard-szS2nYje.js";import{c as b,u as E,b4 as F}from"./index-Bpx0OnSg.js";import{S as R}from"./shopping-bag-Dv9EZFsL.js";import{T as $}from"./ticket-percent-OJlGKFU7.js";import{T as U}from"./triangle-alert-C_xSVBCC.js";import"./react-BzrpNAyj.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],q=b("arrow-up-right",K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],A=b("package-search",Q);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],W=b("trending-up",V),p=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Number(a)||0),c=a=>new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(Number(a)||0),M={processing:{label:"Processing",className:"bg-amber-50 text-amber-600 border border-amber-200"},shipped:{label:"Shipped",className:"bg-sky-50 text-sky-600 border border-sky-200"},delivered:{label:"Delivered",className:"bg-emerald-50 text-emerald-600 border border-emerald-200"},returned:{label:"Returned",className:"bg-rose-50 text-rose-600 border border-rose-200"}},i={metrics:{sales:0,orders:0,products:0,coupons:0},statusBreakdown:{processing:0,shipped:0,delivered:0,returned:0},inventory:{lowStock:0,outOfStock:0},recentOrders:[],topProducts:[]},se=()=>{const a=E(),[r,h]=n.useState(i),[d,g]=n.useState(!0),[N,f]=n.useState("");n.useEffect(()=>{let s=!0;return(async()=>{g(!0),f("");try{const l=await F();if(!s)return;const o=(l==null?void 0:l.data)||i;h({...i,...o})}catch(l){if(!s)return;f(l.message||"Unable to load dashboard"),h(i)}finally{s&&g(!1)}})(),()=>{s=!1}},[]);const x=n.useMemo(()=>r.metrics||i.metrics,[r.metrics]),D=n.useMemo(()=>r.statusBreakdown||i.statusBreakdown,[r.statusBreakdown]),j=n.useMemo(()=>r.inventory||i.inventory,[r.inventory]),v=n.useMemo(()=>r.topProducts||i.topProducts,[r.topProducts]),y=n.useMemo(()=>r.recentOrders||i.recentOrders,[r.recentOrders]),_=[{label:"Net Sales",value:p(x.sales),icon:e.jsx(L,{size:22}),accent:"bg-emerald-50 text-emerald-600",onClick:()=>a("/seller/orders")},{label:"Orders",value:c(x.orders),icon:e.jsx(R,{size:22}),accent:"bg-sky-50 text-sky-600",onClick:()=>a("/seller/orders")},{label:"Catalogue",value:c(x.products),icon:e.jsx(A,{size:22}),accent:"bg-purple-50 text-purple-600",onClick:()=>a("/seller/products")},{label:"Active Coupons",value:c(x.coupons),icon:e.jsx($,{size:22}),accent:"bg-amber-50 text-amber-600",onClick:()=>a("/seller/coupons",{state:{status:"active"}})}];return e.jsxs(B.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-8",children:[e.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:_.map(s=>e.jsx(T,{...s,isLoading:d,className:"cursor-pointer transition hover:-translate-y-0.5 hover:shadow-md"},s.label))}),N&&e.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-600",children:N}),e.jsxs("section",{className:"grid grid-cols-1 gap-6 xl:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Order Status Breakdown"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(W,{size:16}),"Last 5 orders"]})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:Object.entries(D).map(([s,t])=>{const l=M[s]||{label:s,className:"bg-slate-50 text-slate-600 border border-slate-200"},o=s==="returned"?"returned":s;return e.jsxs("div",{role:"button",tabIndex:0,onClick:()=>a("/seller/orders",{state:{status:o}}),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a("/seller/orders",{state:{status:o}}))},className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 transition hover:border-blue-200 hover:bg-blue-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-300 cursor-pointer",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.22em] text-slate-500",children:l.label}),e.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:d?e.jsx("span",{className:"inline-block h-6 w-16 rounded-lg bg-slate-200 animate-pulse"}):c(t)}),e.jsxs("span",{className:`mt-3 inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-medium ${l.className}`,children:[e.jsx(q,{size:14}),t===1?"Order":"Orders"]})]},s)})})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Top Products"}),e.jsx("p",{className:"text-xs text-slate-500",children:"By revenue"})]}),d?e.jsx("div",{className:"mt-6 space-y-4",children:Array.from({length:4}).map((s,t)=>e.jsxs("div",{className:"flex items-center gap-4 rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-slate-200 animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-3 w-40 rounded-full bg-slate-200 animate-pulse"}),e.jsx("div",{className:"h-3 w-28 rounded-full bg-slate-100 animate-pulse"})]}),e.jsx("div",{className:"h-4 w-16 rounded-full bg-slate-100 animate-pulse"})]},t))}):v.length?e.jsx("ul",{className:"mt-6 space-y-4",children:v.map(s=>e.jsxs("li",{className:"flex items-center gap-4 rounded-2xl border border-slate-200 bg-slate-50 p-4 transition hover:border-blue-100 hover:bg-blue-50",children:[e.jsx("div",{className:"h-12 w-12 flex-none overflow-hidden rounded-xl border border-white/10 bg-slate-900/60",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"h-full w-full object-cover"}):e.jsx(A,{className:"m-auto h-6 w-6 text-slate-500"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-semibold text-slate-900",children:s.name}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:s.sku||"SKU unavailable"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-semibold text-emerald-600",children:p(s.revenue)}),e.jsxs("p",{className:"text-xs text-slate-500",children:[c(s.quantity)," units"]})]})]},s.productId))}):e.jsx("div",{className:"mt-8 rounded-2xl border border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500",children:"No product sales yet. Your top performers will appear here once orders start flowing in."})]})]}),e.jsxs("aside",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Inventory Watch"}),e.jsx(U,{className:"h-5 w-5 text-amber-500"})]}),e.jsxs("div",{className:"mt-6 space-y-4 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-amber-500/20 bg-amber-500/5 px-4 py-3",children:[e.jsx("span",{className:"text-amber-600",children:"Low stock"}),e.jsx("span",{className:"text-lg font-semibold text-amber-600",children:d?e.jsx("span",{className:"inline-block h-5 w-10 rounded bg-amber-200/70 animate-pulse"}):c(j.lowStock)})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-rose-500/20 bg-rose-500/10 px-4 py-3",children:[e.jsx("span",{className:"text-rose-600",children:"Out of stock"}),e.jsx("span",{className:"text-lg font-semibold text-rose-600",children:d?e.jsx("span",{className:"inline-block h-5 w-10 rounded bg-rose-200/70 animate-pulse"}):c(j.outOfStock)})]})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent Orders"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Latest 5"})]}),d?e.jsx("div",{className:"mt-6 space-y-4",children:Array.from({length:4}).map((s,t)=>e.jsxs("div",{className:"space-y-2 rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"h-3 w-32 rounded-full bg-slate-200 animate-pulse"}),e.jsx("div",{className:"h-3 w-24 rounded-full bg-slate-100 animate-pulse"}),e.jsx("div",{className:"h-3 w-20 rounded-full bg-slate-100 animate-pulse"})]},t))}):y.length?e.jsx("ul",{className:"mt-6 space-y-3 text-sm",children:y.map(s=>{var C,S,I;const t=s.orderId||s.id||s._id||"",l=s.createdAt?new Date(s.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):"--",o=((C=s.items)==null?void 0:C[0])||{},m=o.productName||o.itemName||o.name||"Order",w=s.totalQuantity??s.totalItems??(Array.isArray(s.items)?s.items.length:0),P=s.customerName||s.buyerName||((S=s.shippingAddress)==null?void 0:S.fullName)||"Customer",z=p(s.total??s.totalAmount??((I=s.pricing)==null?void 0:I.total)??0),k=M[s.status]||{label:s.status||"Processing",className:"bg-slate-100 text-slate-600 border border-slate-200"},O=()=>{t&&a(`/seller/orders/${t}`)};return e.jsx("li",{role:"button",tabIndex:0,onClick:O,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),O())},className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 transition hover:border-blue-200 hover:bg-blue-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-300 cursor-pointer",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:grid sm:grid-cols-[minmax(0,1fr)_minmax(110px,150px)] sm:items-start sm:gap-4",children:[e.jsxs("div",{className:"min-w-0 space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-[0.18em] text-slate-500",children:[e.jsx("span",{children:l}),t&&e.jsxs("span",{className:"text-[10px] font-medium tracking-[0.12em] text-slate-600",children:["#",t]})]}),e.jsx("p",{className:"max-w-full truncate text-[10px] font-semibold leading-snug text-slate-900 sm:text-[11px] whitespace-nowrap",children:m}),e.jsxs("span",{className:"text-[10px] font-medium uppercase tracking-[0.16em] text-slate-500 sm:text-[11px]",children:[w," ",w===1?"item":"items"]})]}),e.jsxs("div",{className:"flex w-full min-w-0 flex-col items-start gap-2 text-[11px] text-slate-500 sm:w-full sm:items-end sm:text-right sm:text-xs",children:[e.jsx("p",{className:"w-full truncate text-[12px] font-semibold text-slate-900 sm:text-right sm:text-sm",children:P}),e.jsx("span",{className:`inline-flex max-w-full items-center gap-2 truncate rounded-full px-3 py-[6px] text-[10px] font-semibold ${k.className}`,children:k.label}),e.jsx("strong",{className:"text-[13px] font-semibold text-emerald-600 sm:text-sm",children:z})]})]})},s.id||t)})}):e.jsx("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500",children:"Once you start receiving orders, a quick snapshot will show up here."})]})]})]})]})};export{se as default};
